<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>È°πÁõÆÊùêÊñôÂ∫ì - Ë£ÖÁî≤ËΩ¶ËæÜÊäóÊØÅ‰º§Êï∞Â≠óÂåñËØÑ‰º∞ËΩØ‰ª∂</title>
    <style>
        /* CSS ÂèòÈáèÂÆö‰πâ - ‰ªé MasterGo DSL ÊèêÂèñÁöÑËÆæËÆ°‰ª§Áâå */
        :root {
            /* È¢úËâ≤ÂèòÈáè - ÈôÑÂ∏¶DSLÂºïÁî®Ê≥®Èáä */
            --bg-primary: #E7EDF1;          /* paint_1:1709 - ‰∏ªËÉåÊôØËâ≤ */
            --bg-white: #FFFFFF;            /* paint_1:1725 - ÁôΩËâ≤ËÉåÊôØ */
            --text-primary: #17181A;        /* paint_1:1722 - ‰∏ªÊñáÊú¨Ëâ≤ */
            --text-secondary: #525A66;      /* paint_1:1859 - ËæÖÂä©ÊñáÊú¨Ëâ≤ */
            --text-muted: #333333;          /* paint_1:1769 - Âº±ÂåñÊñáÊú¨ */
            --accent-blue: #415AD9;         /* paint_1:1736 - Âº∫Ë∞ÉËìùËâ≤ */
            --border-light: #DFE5EB;        /* paint_1:1787 - ËæπÊ°ÜËâ≤ */
            --text-gray: #969799;           /* paint_1:3293 - ÁÅ∞Ëâ≤ÊñáÂ≠ó */
            --divider-gray: rgba(151, 151, 153, 0.3); /* ÁÅ∞Ëâ≤ÂçäÈÄèÊòéÂàÜÂâ≤Á∫ø */
            
            /* Â≠ó‰ΩìÂèòÈáè - ÈôÑÂ∏¶DSLÂºïÁî®Ê≥®Èáä */
            --font-family-primary: 'Source Han Sans', 'PingFangSC-Regular', 'Microsoft YaHei UI', Arial, sans-serif;
            --font-family-header: 'SourceHanSansCN-Revision', sans-serif; /* font_1:1809 */
            --font-body: 'PingFang SC', sans-serif; /* font_1:3292 */
            
            /* Â∞∫ÂØ∏ÂèòÈáè */
            --font-size-title: 20px;        /* font_1:1809 */
            --font-size-subtitle: 16px;     /* font_1:1752 */
            --font-size-body: 14px;         /* font_1:3292 */
            --line-height-title: 20px;
            --line-height-subtitle: 16px;
            --line-height-body: 22px;       /* font_1:3292 */
            
            /* Â∏ÉÂ±ÄÂèòÈáè */
            --sidebar-width: 260px;
            --header-height: 80px;
            --divider-width: 1px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-family-primary);
            background-color: var(--bg-primary);
            color: var(--text-primary);
            font-size: var(--font-size-body);
            line-height: var(--line-height-body);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* =============================================================================
           Êï¥‰ΩìÂÆπÂô®Â∏ÉÂ±Ä
           ============================================================================= */
        .container {
            display: flex;
            height: 100vh;
            width: 100%;
        }

        /* =============================================================================
           Â∑¶‰æßÂØºËà™Ê†è - Âõ∫ÂÆöÂÆΩÂ∫¶
           ============================================================================= */
        .sidebar {
            width: var(--sidebar-width);
            background-color: var(--bg-white);
            display: flex;
            flex-direction: column;
            z-index: 100;
        }

        .sidebar-header {
            height: var(--header-height);
            padding: 24px;
            display: flex;
            align-items: center;
        }

        .back-button {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--text-primary);
            text-decoration: none;
            opacity: 0.7;
            font-size: var(--font-size-title);
            line-height: var(--line-height-title);
            transition: opacity 0.2s ease;
        }

        .back-button:hover {
            opacity: 1;
        }

        .back-icon {
            width: 8px;
            height: 16px;
            color: var(--text-primary);
        }

        .sidebar-nav {
            padding: 24px 0;
        }

        .nav-item {
            padding: 12px 24px;
            display: flex;
            align-items: center;
            gap: 16px;
            color: var(--text-primary);
            text-decoration: none;
            font-size: var(--font-size-subtitle);
            line-height: var(--line-height-subtitle);
            font-weight: 500;
            transition: background-color 0.2s ease;
        }

        .nav-item:hover {
            background-color: #F8F9FA;
        }

        .nav-item.active {
            color: var(--accent-blue);
            background-color: rgba(65, 90, 217, 0.08);
        }

        .nav-icon {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
        }

        /* =============================================================================
           ‰∏ªÂÜÖÂÆπÂå∫Âüü
           ============================================================================= */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
        }

        /* È°∂ÈÉ®ÂØºËà™Ê†è */
        .header-nav {
            height: var(--header-height);
            background-color: var(--bg-white);
            display: flex;
            align-items: center;
            padding: 0 32px;
            gap: 40px;
        }

        .nav-tabs {
            display: flex;
            gap: 32px;
            align-items: center;
        }

        .nav-tab {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 0;
            color: var(--text-primary);
            text-decoration: none;
            font-size: var(--font-size-subtitle);
            line-height: var(--line-height-subtitle);
            font-weight: 500;
            border-bottom: 3px solid transparent;
            transition: all 0.2s ease;
        }

        .nav-tab:hover {
            color: var(--accent-blue);
        }

        .nav-tab.active {
            color: var(--accent-blue);
            border-bottom-color: var(--accent-blue);
        }

        .nav-tab-icon {
            width: 20px;
            height: 20px;
        }

        /* =============================================================================
           Â±ïÁ§∫Âå∫Âüü - Â∑¶Âè≥3:7Â∏ÉÂ±Ä
           ============================================================================= */
        .content-area {
            flex: 1;
            display: flex;
            height: calc(100vh - var(--header-height));
            overflow: hidden;
        }

        /* Â∑¶‰æßÊùêÊñôÂàóË°®Âå∫Âüü (30%) */
        .material-list-section {
            width: 30%;
            background-color: var(--bg-white);
            display: flex;
            flex-direction: column;
            border-right: var(--divider-width) solid var(--divider-gray);
            height: 100%;
        }

        .material-list-header {
            padding: 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .material-list-title {
            font-family: var(--font-family-header);
            font-size: var(--font-size-title);
            line-height: var(--line-height-title);
            color: var(--text-primary);
            font-weight: 500;
        }

        .add-material-btn {
            width: 40px;
            height: 40px;
            background-color: var(--accent-blue);
            border: none;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color 0.2s ease;
            color: var(--bg-white);
            font-size: 18px;
            font-weight: 500;
        }

        .add-material-btn:hover {
            background-color: #3348C5;
        }

        .add-material-btn:active {
            transform: translateY(1px);
        }

        .material-list-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            height: 100%;
            min-height: 0;
        }

        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 16px;
            color: var(--text-gray);
            text-align: center;
            flex: 1;
            padding: 24px;
        }

        .empty-state-icon {
            width: 120px;
            height: 80px;
            opacity: 0.4;
            background: linear-gradient(180deg, #E5E9EF 1%, rgba(255, 255, 255, 0) 50%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            margin: 0 auto;
            flex-shrink: 0;
        }

        .empty-state-text {
            font-family: var(--font-body);
            font-size: var(--font-size-body);
            line-height: var(--line-height-body);
            color: var(--text-gray);
        }

        /* Âè≥‰æßËØ¶ÊÉÖÂ±ïÁ§∫Âå∫Âüü (70%) */
        .material-details-section {
            width: 70%;
            background-color: var(--bg-white);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: 16px 20px;
        }

        .details-empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 16px;
            color: var(--text-gray);
            text-align: center;
        }

        .details-empty-icon {
            width: 120px;
            height: 80px;
            opacity: 0.4;
            background: linear-gradient(180deg, #E5E9EF 1%, rgba(255, 255, 255, 0) 50%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            margin: 0 auto;
            flex-shrink: 0;
        }

        .details-empty-title {
            font-family: var(--font-body);
            font-size: var(--font-size-body);
            line-height: var(--line-height-body);
            color: var(--text-gray);
            font-weight: normal;
        }

        .details-empty-subtitle {
            font-family: var(--font-body);
            font-size: var(--font-size-body);
            line-height: var(--line-height-body);
            color: var(--text-gray);
            max-width: 300px;
        }

        /* =============================================================================
           ÂìçÂ∫îÂºèËÆæËÆ°
           ============================================================================= */
        @media (max-width: 1024px) {
            .content-area {
                flex-direction: column;
            }
            
            .material-list-section {
                width: 100%;
                height: 40%;
                border-right: none;
                border-bottom: var(--divider-width) solid var(--divider-gray);
            }
            
            .material-details-section {
                width: 100%;
                height: 60%;
            }
            
            .params-display-area {
                gap: 16px;
                height: auto;
                min-height: 400px;
            }
            
            .param-name-col {
                width: 80px;
                min-width: 80px;
            }
            
            .param-value-col {
                width: 80px;
                min-width: 80px;
            }
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
                order: 2;
            }
            
            .main-content {
                order: 1;
            }
            
            .header-nav {
                padding: 0 16px;
                gap: 20px;
            }
            
            .nav-tabs {
                gap: 16px;
                overflow-x: auto;
            }
        }

        /* =============================================================================
           ÊùêÊñôÈÄâÊã©ÂºπÂá∫Ê°Ü
           ============================================================================= */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5); /* paint_1:2074 */
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-container {
            width: 795px;
            height: 480px;
            background-color: var(--bg-white);
            border-radius: 16px;
            box-shadow: 0 16px 48px rgba(0, 0, 0, 0.15);
            display: flex;
            flex-direction: column;
            transform: scale(0.9) translateY(20px);
            transition: transform 0.3s ease;
            overflow: hidden;
        }

        .modal-overlay.active .modal-container {
            transform: scale(1) translateY(0);
        }

        /* ÂºπÂá∫Ê°ÜÂ§¥ÈÉ® */
        .modal-header {
            height: 56px;
            background-color: var(--bg-primary); /* paint_1:1709 */
            border-bottom: 1px solid var(--border-light);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px 0 24px;
            flex-shrink: 0;
        }

        .modal-title {
            font-family: var(--font-family-header);
            font-size: 22px;
            line-height: 28px;
            color: var(--text-primary);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .modal-title::before {
            content: "üìã";
            font-size: 24px;
        }

        .modal-close-btn {
            width: 28px;
            height: 28px;
            background: none;
            border: none;
            cursor: pointer;
            padding: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary); /* paint_1:2125 */
            transition: all 0.2s ease;
        }

        .modal-close-btn:hover {
            color: var(--text-primary);
            background-color: rgba(0, 0, 0, 0.05);
            border-radius: 4px;
        }

        .modal-close-btn svg {
            width: 16px;
            height: 16px;
        }

        /* ÂºπÂá∫Ê°ÜÂÜÖÂÆπÂå∫Âüü */
        .modal-content {
            flex: 1;
            padding: 20px 24px;
            display: flex;
            flex-direction: column;
            gap: 16px;
            overflow: hidden;
        }

        /* Êñ∞Â¢ûÊùêÊñôÊåâÈíÆ */
        .add-material-modal-btn {
            width: 112px;
            height: 36px;
            background-color: var(--accent-blue);
            border: none;
            border-radius: 6px;
            color: var(--bg-white);
            font-family: var(--font-family-primary);
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
        }

        .add-material-modal-btn:hover {
            background-color: rgba(65, 90, 217, 0.9);
            transform: translateY(-1px);
        }

        .add-material-modal-btn::before {
            content: "+";
            font-size: 14px;
            font-weight: 300;
        }

        /* ÊùêÊñôÂàóË°®Ë°®Ê†º */
        .material-table {
            flex: 1;
            border: 1px solid var(--border-light); /* paint_1:1787 */
            border-radius: 0;
            overflow: hidden;
        }

        .material-table table {
            width: 100%;
            border-collapse: collapse;
            font-family: var(--font-family-primary);
        }

        /* Ë°®Â§¥Ê†∑Âºè */
        .material-table thead {
            background-color: var(--bg-primary); /* paint_1:1709 */
        }

        .material-table th {
            padding: 12px 16px;
            text-align: left;
            font-size: 12px;
            font-weight: 500; /* font_1:1733 */
            color: var(--text-primary);
            border: none;
        }

        .material-table th:first-child {
            width: 60px;
            text-align: center;
        }

        .material-table th:nth-child(2) { width: 100px; }
        .material-table th:nth-child(3) { width: 120px; }
        .material-table th:nth-child(4) { width: 150px; }
        .material-table th:nth-child(5) { width: 150px; }
        .material-table th:nth-child(6) { width: 80px; text-align: center; }

        /* Ë°®Ê†ºË°åÊ†∑Âºè */
        .material-table tbody tr {
            border-bottom: 1px solid var(--border-light);
            transition: background-color 0.2s ease;
        }

        .material-table tbody tr:nth-child(even) {
            background-color: #F7F8FB; /* paint_1:2081 */
        }

        .material-table tbody tr:hover {
            background-color: rgba(65, 90, 217, 0.04);
        }

        .material-table td {
            padding: 12px 16px;
            font-size: 12px;
            color: var(--text-primary);
            vertical-align: middle;
        }

        .material-table td:first-child {
            text-align: center;
        }

        .material-table td:last-child {
            text-align: center;
        }

        /* Â§çÈÄâÊ°ÜÊ†∑Âºè */
        .material-checkbox {
            width: 14px;
            height: 14px;
            border: 1px solid var(--border-light); /* paint_1:1787 */
            border-radius: 2px;
            background-color: var(--bg-white);
            cursor: pointer;
            position: relative;
            display: inline-block;
        }

        .material-checkbox.checked {
            background-color: var(--accent-blue);
            border-color: var(--accent-blue);
        }

        .material-checkbox.checked::after {
            content: '';
            position: absolute;
            left: 2.5px;
            top: -0.5px;
            width: 6.5px;
            height: 4.5px;
            border: none;
            background-image: url("data:image/svg+xml,%3Csvg width='7' height='5' viewBox='0 0 7 5' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M2 3.43934L0.53033 1.96967L-0.53033 3.03033L2 5.56066L7.03033 0.53033L5.96967 -0.53033L2 3.43934Z' fill='white'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: center;
        }

        /* Êìç‰ΩúÊåâÈíÆ */
        .action-buttons {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .action-btn {
            width: 22px;
            height: 22px;
            background: none;
            border: none;
            cursor: pointer;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
            transition: color 0.2s ease;
        }

        .action-btn:hover {
            color: var(--text-primary);
        }

        .action-btn svg {
            width: 100%;
            height: 100%;
        }

        /* ÂºπÂá∫Ê°ÜÂ∫ïÈÉ®ÊåâÈíÆ */
        .modal-footer {
            padding: 16px 24px;
            display: flex;
            justify-content: flex-end;
            gap: 12px;
            border-top: 1px solid var(--border-light);
            background-color: var(--bg-white);
            flex-shrink: 0;
        }

        .modal-btn {
            width: 80px;
            height: 36px;
            border-radius: 6px;
            font-family: var(--font-family-primary);
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-btn-cancel {
            background-color: var(--bg-white);
            color: var(--text-primary);
            border: 1px solid var(--border-light);
        }

        .modal-btn-cancel:hover {
            background-color: #F8F9FA;
        }

        .modal-btn-save {
            background-color: var(--accent-blue);
            color: var(--bg-white);
        }

        .modal-btn-save:hover {
            background-color: #3348C5;
        }

        /* =============================================================================
           Êñ∞Â¢ûÊùêÊñôÂºπÂá∫Ê°ÜÊ†∑Âºè
           ============================================================================= */
        .add-material-modal-container {
            width: 920px; /* DSL: 920px width */
            height: 640px; /* DSL: 640px height */
            background-color: var(--bg-white); /* paint_1:1725 */
            border-radius: 16px;
            box-shadow: 0 16px 48px rgba(0, 0, 0, 0.15);
            display: flex;
            flex-direction: column;
            transform: scale(0.9) translateY(20px);
            transition: transform 0.3s ease;
            overflow: hidden;
        }

        .modal-overlay.active .add-material-modal-container {
            transform: scale(1) translateY(0);
        }

        /* Êñ∞Â¢ûÊùêÊñôÂºπÂá∫Ê°ÜÂÜÖÂÆπÂå∫ */
        .add-material-modal-content {
            flex: 1;
            padding: 20px 24px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            overflow-y: auto;
        }

        /* Âü∫Êú¨‰ø°ÊÅØË°å */
        .material-basic-info {
            display: flex;
            gap: 24px;
        }

        .form-group {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-label {
            font-family: var(--font-family-primary);
            font-size: var(--font-size-body);
            font-weight: 500;
            color: var(--text-secondary); /* paint_1:1859 */
        }

        .form-input {
            height: 48px;
            padding: 12px 16px;
            border: 1px solid var(--border-light); /* paint_1:1843 */
            border-radius: 8px;
            font-family: var(--font-family-primary);
            font-size: var(--font-size-body);
            background-color: var(--bg-white); /* paint_1:1725 */
            transition: border-color 0.2s ease;
        }

        .form-input:focus {
            border-color: var(--accent-blue);
            outline: none;
            box-shadow: 0 0 0 3px rgba(65, 90, 217, 0.1);
        }

        /* ÂèÇÊï∞ÈÖçÁΩÆÂå∫Âüü */
        .material-params-area {
            display: flex;
            gap: 8px;
            flex: 1;
        }

        .param-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 13px;
        }

        /* ÂèÇÊï∞ÊÆµÂ§¥ÈÉ® */
        .param-section-header {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .section-label {
            font-family: var(--font-family-primary);
            font-size: var(--font-size-body);
            color: var(--text-secondary); /* paint_1:1859 */
            font-weight: normal;
        }

        .param-select {
            height: 48px;
            padding: 12px 16px;
            border: 1px solid var(--border-light); /* paint_1:1843 */
            border-radius: 8px;
            font-family: var(--font-family-primary);
            font-size: var(--font-size-body);
            background-color: var(--bg-white); /* paint_1:1725 */
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1.5L6 6.5L11 1.5' stroke='%23525A66' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 12px center;
            padding-right: 40px;
        }

        .param-select:focus {
            border-color: var(--accent-blue);
            outline: none;
            box-shadow: 0 0 0 3px rgba(65, 90, 217, 0.1);
        }

        /* ÂèÇÊï∞ÁΩëÊ†º */
        .param-grid {
            display: flex;
            flex: 1;
            gap: 0;
        }

        .param-labels,
        .param-units,
        .param-values {
            display: flex;
            flex-direction: column;
        }

        .param-labels {
            width: 140px; /* DSL: 140px width */
        }

        .param-units {
            width: 140px; /* DSL: 140px width */
        }

        .param-values {
            width: 140px; /* DSL: 140px width */
        }

        /* ÂèÇÊï∞ÁΩëÊ†ºÂ§¥ÈÉ® */
        .param-label-header,
        .param-unit-header,
        .param-value-header {
            height: 52px; /* DSL: 52px height */
            display: flex;
            align-items: center;
            padding: 0 16px;
            background-color: var(--bg-white); /* paint_1:1725 */
            border: 1px solid var(--border-light); /* paint_1:1843 */
            font-family: var(--font-family-primary);
            font-size: var(--font-size-body);
            font-weight: 500; /* font_1:1733 */
            color: var(--text-primary);
        }

        .param-label-header {
            border-radius: 8px 0 0 0;
        }

        .param-value-header {
            border-radius: 0 8px 0 0;
        }

        /* ÂèÇÊï∞Ë°å */
        .param-label,
        .param-unit {
            height: 52px; /* DSL: 52px height */
            display: flex;
            align-items: center;
            padding: 0 16px;
            background-color: #F2F5F7; /* paint_1:1841 */
            border: 1px solid var(--border-light); /* paint_1:1843 */
            border-top: none;
            font-family: var(--font-family-primary);
            font-size: var(--font-size-body);
            color: var(--text-primary);
        }

        .param-input {
            height: 52px; /* DSL: 52px height */
            padding: 0 16px;
            border: 1px solid var(--border-light); /* paint_1:1843 */
            border-top: none;
            font-family: var(--font-family-primary);
            font-size: var(--font-size-body);
            background-color: var(--bg-white); /* paint_1:1725 */
            transition: border-color 0.2s ease;
        }

        .param-input:focus {
            border-color: var(--accent-blue);
            outline: none;
            box-shadow: inset 0 0 0 1px var(--accent-blue);
        }

        /* ÊúÄÂêé‰∏ÄË°åÁöÑÂúÜËßíÂ§ÑÁêÜ */
        .param-labels .param-label:last-child {
            border-radius: 0 0 0 8px;
        }

        .param-values .param-input:last-child {
            border-radius: 0 0 8px 0;
        }

        /* =============================================================================
           ÊùêÊñôÂàóË°®Ê†∑Âºè
           ============================================================================= */
        .material-list {
            flex: 1;
            padding: 0;
            overflow-y: auto;
            height: 100%;
        }
        
        .material-list-item {
            padding: 16px 24px;
            border-bottom: 1px solid var(--border-light);
            cursor: pointer;
            transition: background-color 0.2s ease;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .material-list-item:hover {
            background-color: #F8F9FA;
        }
        
        .material-list-item.active {
            background-color: rgba(65, 90, 217, 0.08);
            border-left: 3px solid var(--accent-blue);
        }
        
        .material-item-info {
            flex: 1;
        }
        
        .material-item-name {
            font-family: var(--font-family-primary);
            font-size: var(--font-size-subtitle);
            font-weight: 500;
            color: var(--text-primary);
        }
        
        .material-item-actions {
            display: flex;
            gap: 8px;
            opacity: 0;
            transition: opacity 0.2s ease;
        }
        
        .material-list-item:hover .material-item-actions {
            opacity: 1;
        }
        
        .material-action-btn {
            width: 20px;
            height: 20px;
            background: none;
            border: none;
            cursor: pointer;
            padding: 2px;
            border-radius: 4px;
            color: var(--text-secondary);
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .material-action-btn:hover {
            background-color: rgba(255, 77, 79, 0.1);
            color: #ff4d4f;
        }
        
        .material-action-btn svg {
            width: 14px;
            height: 14px;
        }
        
        /* =============================================================================
           ÊùêÊñôËØ¶ÊÉÖÂ±ïÁ§∫Ê†∑Âºè
           ============================================================================= */
        .material-details-content {
            flex: 1;
            padding: 12px 16px;
            overflow: hidden;
            height: 100%;
            display: flex;
            flex-direction: column;
            min-height: 0;
            width: 100%;
        }
        
        /* ÊùêÊñôÂ§¥ÈÉ®Ê†∑ÂºèÂ∑≤ÁßªÈô§ */
        
        .params-display-area {
            display: flex;
            gap: 16px;
            flex: 1;
            min-height: 0;
            overflow: hidden;
            padding: 0 4px;
        }
        
        .param-display-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            background-color: transparent;
            border: none;
            border-radius: 0;
            min-width: 0;
            overflow: hidden;
        }
        
        .param-display-header {
            padding: 8px 0;
            background-color: transparent;
            border-bottom: none;
            margin-bottom: 8px;
            flex-shrink: 0;
        }
        
        .section-title {
            font-family: var(--font-family-header);
            font-size: 18px;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 8px;
        }
        
        .equation-info {
            display: flex;
            flex-direction: column;
            gap: 2px;
            margin-bottom: 8px;
        }
        
        .equation-label {
            font-family: var(--font-family-primary);
            font-size: var(--font-size-body);
            color: var(--text-secondary);
        }
        
        .equation-select {
            font-family: var(--font-family-primary);
            font-size: var(--font-size-body);
            color: var(--text-primary);
            background-color: var(--bg-white);
            padding: 8px 12px;
            border: 1px solid var(--border-light);
            border-radius: 4px;
            margin-top: 4px;
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1.5L6 6.5L11 1.5' stroke='%23525A66' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 8px center;
            padding-right: 32px;
        }
        
        .equation-select:focus {
            border-color: var(--accent-blue);
            outline: none;
            box-shadow: 0 0 0 3px rgba(65, 90, 217, 0.1);
        }
        
        .param-display-table {
            flex: 1;
            display: flex;
            flex-direction: column;
            border: 1px solid var(--border-light);
            border-radius: 8px;
            overflow: hidden;
            background-color: var(--bg-white);
            min-height: 0;
        }
        
        .param-table-header {
            display: flex;
            background-color: var(--bg-primary);
            border-bottom: 1px solid var(--border-light);
            flex-shrink: 0;
        }
        
        .param-col {
            padding: 10px 12px;
            font-family: var(--font-family-primary);
            font-size: 12px;
            font-weight: 500;
            color: var(--text-primary);
            border-right: 1px solid var(--border-light);
            text-align: center;
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .param-col:last-child {
            border-right: none;
        }
        
        .param-name-col {
            width: 80px;
            min-width: 80px;
            max-width: 80px;
            text-align: left;
            justify-content: flex-start;
            flex-shrink: 0;
        }
        
        .param-unit-col {
            width: 140px;
            min-width: 140px;
            max-width: 140px;
            flex-shrink: 0;
        }
        
        .param-value-col {
            width: 80px;
            min-width: 80px;
            max-width: 80px;
            flex-shrink: 0;
        }
        
        .param-table-body {
            flex: 1;
            overflow-y: auto;
            min-height: 200px;
            max-height: calc(100vh - 300px);
        }
        
        .param-row {
            display: flex;
            border-bottom: 1px solid var(--border-light);
            min-height: 36px;
            align-items: stretch;
        }
        
        .param-row:nth-child(even) {
            background-color: #F7F8FB;
        }
        
        .param-cell {
            padding: 8px 12px;
            font-family: var(--font-family-primary);
            font-size: 12px;
            color: var(--text-primary);
            border-right: 1px solid var(--border-light);
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 36px;
            white-space: nowrap;
        }
        
        .param-cell:last-child {
            border-right: none;
        }
        
        .param-cell.param-name {
            background-color: #F2F5F7;
            font-weight: 500;
            justify-content: flex-start;
            padding-left: 12px;
            width: 80px;
            max-width: 80px;
            flex-shrink: 0;
        }
        
        .param-cell.param-unit {
            background-color: #F2F5F7;
            width: 140px;
            max-width: 140px;
            flex-shrink: 0;
        }
        
        .param-cell.param-value {
            font-weight: 500;
            font-family: 'Courier New', monospace;
            width: 80px;
            max-width: 80px;
            flex-shrink: 0;
        }
        
        /* =============================================================================
           ÁõÆÊ†áÂª∫Ê®°È°µÈù¢Ê†∑Âºè
           ============================================================================= */
        .target-modeling-section {
            width: 30%;
            background-color: var(--bg-white);
            display: flex;
            flex-direction: column;
            border-right: var(--divider-width) solid var(--divider-gray);
            height: 100%;
            min-height: 0;
            overflow: hidden;
        }

        .target-modeling-header {
            padding: 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid var(--border-light);
        }

        .target-modeling-title {
            font-family: var(--font-family-header);
            font-size: var(--font-size-title);
            line-height: var(--line-height-title);
            color: var(--text-primary);
            font-weight: 500;
        }

        /* Ê∞¥Âπ≥ÊåâÈíÆÁªÑÂÆπÂô® */
        .horizontal-buttons-container {
            display: flex;
            gap: 8px;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: nowrap;
        }

        /* Áªü‰∏ÄÁöÑÂ∞èÊåâÈíÆÊ†∑Âºè */
        .small-btn {
            height: 28px;
            padding: 4px 10px;
            border: 1px solid #E5E8EB;
            border-radius: 5px;
            font-family: var(--font-family-primary);
            font-size: 10px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            background-color: var(--bg-white);
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            white-space: nowrap;
            min-width: fit-content;
        }

        .small-btn:hover {
            border-color: var(--accent-blue);
            color: var(--accent-blue);
            background-color: rgba(25, 118, 210, 0.04);
        }

        .small-btn.active {
            border-color: var(--accent-blue);
            background-color: var(--accent-blue);
            color: white;
        }

        .small-btn.primary {
            border-color: var(--accent-blue);
            color: var(--accent-blue);
        }

        .small-btn.primary:hover {
            background-color: var(--accent-blue);
            color: white;
        }

        .small-btn .btn-icon {
            width: 10px;
            height: 10px;
            margin-right: 3px;
        }

        /* ÂèÇËÄÉÂõæÂå∫Âüü */
        .reference-image-section {
            margin-bottom: 20px;
        }

        .section-label {
            font-family: var(--font-family-primary);
            font-size: var(--font-size-body);
            color: var(--text-secondary);
            margin-bottom: 12px;
            display: block;
        }

        .reference-image-container {
            width: 100%;
            max-width: 350px;
            height: 160px;
            background: linear-gradient(180deg, #F4F7FF 0%, #D9E5FF 100%); /* paint_1:1964 */
            border: 1px solid #DFE5EB; /* paint_1:1966 */
            border-radius: 8px;
            box-shadow: 0px 8px 12px 0px rgba(134, 163, 191, 0.1); /* effect_1:1968 */
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .reference-image {
            width: 80%;
            height: 75%;
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 330 187"><rect width="330" height="187" fill="%23E0E7ED"/><path d="M50 50h230v87H50z" fill="%23BCC7D3"/><path d="M80 80h170v27H80z" fill="%23A3B1C0"/></svg>');
            background-size: cover;
            background-position: center;
            border-radius: 4px;
            box-shadow: -4px 4px 12px 0px rgba(18, 37, 134, 0.2); /* effect_1:1838 */
        }

        /* Èù∂ÊùøÂèÇÊï∞Ê†áÈ¢ò */
        .target-params-title {
            font-family: var(--font-family-header);
            font-size: var(--font-size-title);
            line-height: var(--line-height-title);
            color: var(--text-primary);
            font-weight: 500;
            margin-bottom: 16px;
        }

        /* ÂèÇÊï∞ËæìÂÖ•Âå∫Âüü */
        .param-inputs-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 24px;
            width: 100%;
            max-width: 440px;
        }

        .param-input-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .param-input-label {
            font-family: var(--font-family-primary);
            font-size: var(--font-size-body);
            color: var(--text-secondary);
        }

        .param-input-field {
            height: 48px;
            padding: 12px 16px;
            border: 1px solid var(--border-light);
            border-radius: 8px;
            font-family: var(--font-family-primary);
            font-size: var(--font-size-body);
            background-color: var(--bg-white);
            color: var(--text-primary);
            transition: border-color 0.2s ease;
        }

        .param-input-field:focus {
            border-color: var(--accent-blue);
            outline: none;
            box-shadow: 0 0 0 3px rgba(65, 90, 217, 0.1);
        }

        .param-input-field-readonly {
            background-color: #F2F5F7;
            cursor: not-allowed;
        }

        .param-input-unit {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
            opacity: 0.4;
            font-size: var(--font-size-body);
            pointer-events: none;
        }

        .param-input-wrapper {
            position: relative;
        }

        /* Èù∂ÊùøÂèÇÊï∞Ë°®Ê†º */
        .target-board-table {
            border: 1px solid var(--border-light);
            border-radius: 8px;
            overflow: hidden;
            background-color: var(--bg-white);
            margin-bottom: 24px;
            width: 100%;
            max-width: 440px;
        }

        .target-board-table-header {
            display: grid;
            grid-template-columns: 60px 120px 140px 120px;
            background-color: #F2F5F7; /* paint_1:1841 */
            border-bottom: 1px solid var(--border-light);
        }

        .target-board-table-header-cell {
            padding: 16px 12px;
            font-family: var(--font-family-primary);
            font-size: 14px;
            font-weight: 500;
            color: var(--text-primary);
            text-align: center;
            border-right: 1px solid var(--border-light);
        }

        .target-board-table-header-cell:last-child {
            border-right: none;
        }

        .target-board-table-row {
            display: grid;
            grid-template-columns: 60px 120px 140px 120px;
            border-bottom: 1px solid var(--border-light);
        }

        .target-board-table-row:last-child {
            border-bottom: none;
        }

        .target-board-table-cell {
            padding: 12px 8px;
            font-family: var(--font-family-primary);
            font-size: var(--font-size-body);
            color: var(--text-primary);
            text-align: center;
            border-right: 1px solid var(--border-light);
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 48px;
        }

        .target-board-table-cell:last-child {
            border-right: none;
        }

        .target-board-table-cell.number-cell {
            background-color: #F2F5F7;
            font-weight: 500;
        }

        .target-board-table-cell input {
            width: 80%;
            max-width: 80px;
            border: 1px solid transparent;
            background: transparent;
            text-align: center;
            font-family: var(--font-family-primary);
            font-size: var(--font-size-body);
            color: var(--text-primary);
            padding: 4px;
            border-radius: 3px;
        }

        .target-board-table-cell input:focus {
            outline: none;
            border-color: var(--accent-blue);
            background-color: var(--bg-white);
        }

        .target-board-table-cell select {
            width: 90%;
            border: 1px solid transparent;
            background: transparent;
            text-align: center;
            font-family: var(--font-family-primary);
            font-size: var(--font-size-body);
            color: var(--text-primary);
            cursor: pointer;
            appearance: none;
            padding: 4px;
            border-radius: 3px;
        }

        .target-board-table-cell select:focus {
            outline: none;
            border-color: var(--accent-blue);
            background-color: var(--bg-white);
        }

        .material-select-placeholder {
            color: var(--text-secondary);
            opacity: 0.4;
        }

        /* Â∫ïÈÉ®Êìç‰ΩúÊåâÈíÆ */
        .target-modeling-actions {
            display: flex;
            gap: 12px;
            padding: 16px 24px 24px;
            flex-shrink: 0;
            border-top: 1px solid var(--border-light);
            background-color: var(--bg-white);
        }

        .action-btn-primary {
            width: 132px;
            height: 48px;
            background-color: var(--accent-blue);
            border: none;
            border-radius: 8px;
            color: var(--bg-white);
            font-family: var(--font-family-primary);
            font-size: var(--font-size-body);
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .action-btn-primary:hover {
            background-color: #3348C5;
        }

        .action-btn-secondary {
            width: 126px;
            height: 48px;
            background-color: var(--bg-white);
            border: 1px solid var(--border-light);
            border-radius: 8px;
            color: var(--text-primary);
            font-family: var(--font-family-primary);
            font-size: var(--font-size-body);
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .action-btn-secondary:hover {
            background-color: #F8F9FA;
        }

        /* ‰∏âÁª¥ËßÜÂõæÂå∫Âüü */
        .threejs-view-section {
            width: 70%;
            background-color: var(--bg-white);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: 16px 20px;
        }

        .threejs-view-container {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            font-family: var(--font-family-primary);
            font-size: 18px;
            border: 1px solid var(--border-light);
        }

        /* ÈöêËóè/ÊòæÁ§∫È°µÈù¢ */
        .page-content {
            display: none;
        }

        .page-content.active {
            display: flex;
        }

        /* =============================================================================
           ÂèØËÆøÈóÆÊÄßÂ¢ûÂº∫
           ============================================================================= */
        .add-material-btn:focus,
        .nav-item:focus,
        .nav-tab:focus,
        .modal-close-btn:focus,
        .add-material-modal-btn:focus,
        .modal-btn:focus,
        .action-btn:focus,
        .form-input:focus,
        .param-input:focus,
        .param-select:focus {
            outline: 2px solid var(--accent-blue);
            outline-offset: 2px;
        }

        /* Ë∑≥ËøáÈìæÊé• */
        .skip-to-content {
            position: absolute;
            top: -40px;
            left: 6px;
            background: var(--bg-white);
            padding: 8px;
            text-decoration: none;
            color: var(--text-primary);
            border-radius: 4px;
            border: 1px solid var(--border-light);
            z-index: 1000;
        }

        .skip-to-content:focus {
            top: 6px;
        }
    </style>
</head>
<body>
    <!-- Ë∑≥ËøáÈìæÊé• - ÊèêÂçáÂèØËÆøÈóÆÊÄß -->
    <a href="#main-content" class="skip-to-content">Ë∑≥ËΩ¨Âà∞‰∏ªË¶ÅÂÜÖÂÆπ</a>

    <div class="container">
        <!-- =============================================================================
             Â∑¶‰æßÂØºËà™Ê†è
             ============================================================================= -->
        <aside class="sidebar" role="navigation" aria-label="‰∏ªÂØºËà™">
            <div class="sidebar-header">
                <a href="#" class="back-button" aria-label="ËøîÂõûÈ¶ñÈ°µ">
                    <svg class="back-icon" viewBox="0 0 8 16" fill="currentColor">
                        <path d="M8.53033 0.53033Q8.63582 0.424841 8.69291 0.287013Q8.75 0.149184 8.75 0Q8.75 -0.0738685 8.73559 -0.146318Q8.72118 -0.218767 8.69291 -0.287013Q8.66464 -0.355258 8.6236 -0.416678Q8.58256 -0.478097 8.53033 -0.53033Q8.4781 -0.582563 8.41668 -0.623602Q8.35526 -0.664641 8.28701 -0.69291Q8.21877 -0.721178 8.14632 -0.735589Q8.07387 -0.75 8 -0.75Q7.85082 -0.75 7.71299 -0.69291Q7.57516 -0.635819 7.46967 -0.53033L-0.53033 7.46967Q-0.635819 7.57516 -0.69291 7.71299Q-0.75 7.85082 -0.75 8Q-0.75 8.14918 -0.69291 8.28701Q-0.635819 8.42484 -0.53033 8.53033L7.46967 16.5303Q7.57516 16.6358 7.71299 16.6929Q7.85082 16.75 8 16.75Q8.07387 16.75 8.14632 16.7356Q8.21877 16.7212 8.28701 16.6929Q8.35526 16.6646 8.41668 16.6236Q8.4781 16.5826 8.53033 16.5303Q8.58256 16.4781 8.6236 16.4167Q8.66464 16.3553 8.69291 16.287Q8.72118 16.2188 8.73559 16.1463Q8.75 16.0739 8.75 16Q8.75 15.8508 8.69291 15.713Q8.63582 15.5752 8.53033 15.4697L8.52969 15.469L1.06066 8L8.52987 0.530792L8.53033 0.53033L8.53033 0.53033Z"/>
                    </svg>
                    È¶ñÈ°µ
                </a>
            </div>

            <nav class="sidebar-nav">
                <a href="#" class="nav-item">
                    <div class="nav-icon">üìã</div>
                    È°πÁõÆ‰ø°ÊÅØ
                </a>
                <a href="#" class="nav-item active">
                    <div class="nav-icon">üßä</div>
                    ÊúâÈôêÂÖÉ‰ªøÁúüÊ®°Âûã
                </a>
                <a href="#" class="nav-item">
                    <div class="nav-icon">‚öôÔ∏è</div>
                    ‰ªøÁúüËÆ°ÁÆó
                </a>
                <a href="#" class="nav-item">
                    <div class="nav-icon">üìä</div>
                    ËÆ°ÁÆóÁªìÊûúÂàÜÊûê
                </a>
            </nav>
        </aside>

        <!-- =============================================================================
             ‰∏ªÂÜÖÂÆπÂå∫Âüü
             ============================================================================= -->
        <main class="main-content" id="main-content" role="main">
            <!-- È°∂ÈÉ®ÂØºËà™Ê†è -->
            <header class="header-nav" role="banner">
                <nav class="nav-tabs" role="tablist" aria-label="ÂäüËÉΩÂØºËà™">
                    <a href="#" class="nav-tab active" role="tab" aria-selected="true" data-page="material-model">
                        <div class="nav-tab-icon">üß±</div>
                        ÊùêÊñôÊ®°Âûã
                    </a>
                    <a href="#" class="nav-tab" role="tab" aria-selected="false" data-page="target-modeling">
                        <div class="nav-tab-icon">üéØ</div>
                        ÁõÆÊ†áÂª∫Ê®°
                    </a>
                    <a href="#" class="nav-tab" role="tab" aria-selected="false" data-page="warhead-modeling">
                        <div class="nav-tab-icon">üí•</div>
                        Á©øÁî≤ÊàòÊñóÈÉ®Âª∫Ê®°
                    </a>
                    <a href="#" class="nav-tab" role="tab" aria-selected="false" data-page="simulation-params">
                        <div class="nav-tab-icon">‚öôÔ∏è</div>
                        ‰ªøÁúüÊéßÂà∂ÂèÇÊï∞
                    </a>
                </nav>
            </header>

            <!-- =============================================================================
                 Â±ïÁ§∫Âå∫Âüü - Â∑¶Âè≥3:7Â∏ÉÂ±Ä
                 ============================================================================= -->
            <!-- ÊùêÊñôÊ®°ÂûãÈ°µÈù¢ -->
            <div class="content-area page-content active" id="material-model-page">
                <!-- Â∑¶‰æßÊùêÊñôÂàóË°®Âå∫Âüü (30%) -->
                <section class="material-list-section" aria-label="ÊùêÊñôÂàóË°®">
                    <div class="material-list-header">
                        <h2 class="material-list-title">È°πÁõÆÊùêÊñôÂ∫ì</h2>
                        <button class="add-material-btn" 
                                aria-label="Ê∑ªÂä†ÊùêÊñô" 
                                title="Ê∑ªÂä†Êñ∞ÊùêÊñô">
                            +
                        </button>
                    </div>
                    
                    <div class="material-list-content" id="materialListContent">
                        <div class="empty-state" id="emptyState">
                            <div class="empty-state-icon">
                                üìÅ
                            </div>
                            <p class="empty-state-text">ÊöÇÊó†ÊùêÊñôÔºåËØ∑Ê∑ªÂä†ÊùêÊñô</p>
                        </div>
                        <div class="material-list" id="materialList" style="display: none;">
                            <!-- ÊùêÊñôÂàóË°®È°πÂ∞ÜÂú®ËøôÈáåÂä®ÊÄÅÁîüÊàê -->
                        </div>
                    </div>
                </section>

                <!-- Âè≥‰æßËØ¶ÊÉÖÂ±ïÁ§∫Âå∫Âüü (70%) -->
                <section class="material-details-section" aria-label="ÊùêÊñôËØ¶ÊÉÖ">
                    <div class="details-empty-state" id="detailsEmptyState">
                        <div class="details-empty-icon">
                            üìÅ
                        </div>
                        <h3 class="details-empty-title">ËØ∑ÈÄâÊã©‰∏Ä‰∏™ÊùêÊñô</h3>
                        <p class="details-empty-subtitle">Âú®Â∑¶‰æßÂàóË°®‰∏≠ÈÄâÊã©ÊùêÊñô‰ª•Êü•ÁúãËØ¶ÁªÜ‰ø°ÊÅØÔºåÊàñÁÇπÂáª"+"ÊåâÈíÆÊ∑ªÂä†Êñ∞ÊùêÊñô</p>
                    </div>
                    
                    <!-- ÊùêÊñôËØ¶ÊÉÖÂ±ïÁ§∫Âå∫Âüü -->
                    <div class="material-details-content" id="materialDetailsContent" style="display: none;">
                        <!-- ÊùêÊñôÂü∫Êú¨‰ø°ÊÅØÂ∑≤ÁßªÈô§ -->
                        
                        <!-- ÂèÇÊï∞Â±ïÁ§∫Âå∫Âüü -->
                        <div class="params-display-area">
                            <!-- Â∑¶‰æßÔºöÊú¨ÊûÑÊñπÁ®ãÂ±ûÊÄß -->
                            <div class="param-display-section">
                                <div class="param-display-header">
                                    <h3 class="section-title">Êú¨ÊûÑÊñπÁ®ãÂ±ûÊÄß</h3>
                                    <div class="equation-info">
                                        <span class="equation-label">Êú¨ÊûÑÊñπÁ®ãÈÄâÊã©</span>
                                        <select class="equation-select" id="constitutiveEquation">
                                            <option value="PLASTIC_KINEMATIC">PLASTIC_KINEMATIC</option>
                                            <option value="JOHNSON_COOK">JOHNSON_COOK</option>
                                            <option value="GRUNEISEN">GRUNEISEN</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="param-display-table">
                                    <div class="param-table-header">
                                        <div class="param-col param-name-col">ÂèÇÊï∞ÂêçÁß∞</div>
                                        <div class="param-col param-unit-col">Âçï‰ΩçÂà∂ (cm/g/Œºs)</div>
                                        <div class="param-col param-value-col">ÂÄº</div>
                                    </div>
                                    <div class="param-table-body" id="constitutiveParams">
                                        <!-- ÂèÇÊï∞Ë°åÂ∞ÜÂú®ËøôÈáåÂä®ÊÄÅÁîüÊàê -->
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Âè≥‰æßÔºöÁä∂ÊÄÅÊñπÁ®ãÂ±ûÊÄß -->
                            <div class="param-display-section">
                                <div class="param-display-header">
                                    <h3 class="section-title">Áä∂ÊÄÅÊñπÁ®ãÂ±ûÊÄß</h3>
                                    <div class="equation-info">
                                        <span class="equation-label">Áä∂ÊÄÅÊñπÁ®ãÈÄâÊã©</span>
                                        <select class="equation-select" id="stateEquation">
                                            <option value="PLASTIC_KINEMATIC">PLASTIC_KINEMATIC</option>
                                            <option value="JOHNSON_COOK">JOHNSON_COOK</option>
                                            <option value="GRUNEISEN">GRUNEISEN</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="param-display-table">
                                    <div class="param-table-header">
                                        <div class="param-col param-name-col">ÂèÇÊï∞ÂêçÁß∞</div>
                                        <div class="param-col param-unit-col">Âçï‰ΩçÂà∂ (cm/g/Œºs)</div>
                                        <div class="param-col param-value-col">ÂÄº</div>
                                    </div>
                                    <div class="param-table-body" id="stateParams">
                                        <!-- ÂèÇÊï∞Ë°åÂ∞ÜÂú®ËøôÈáåÂä®ÊÄÅÁîüÊàê -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- ÁõÆÊ†áÂª∫Ê®°È°µÈù¢ -->
            <div class="content-area page-content" id="target-modeling-page">
                <!-- Â∑¶‰æßÂª∫Ê®°ÂèÇÊï∞Âå∫Âüü (30%) -->
                <section class="target-modeling-section" aria-label="Âª∫Ê®°ÂèÇÊï∞">
                    <div class="target-modeling-header">
                        <h2 class="target-modeling-title">Âª∫Ê®°ÂèÇÊï∞</h2>
                    </div>
                    
                    <div style="padding: 0 24px; flex: 1; display: flex; flex-direction: column; min-height: 0;">
                        <!-- Ê∞¥Âπ≥ÂØπÈΩêÁöÑ‰∏â‰∏™ÊåâÈíÆ -->
                        <div class="horizontal-buttons-container">
                            <button class="small-btn active" data-model-type="equivalent">Á≠âÊïàÈù∂Ê®°Âûã</button>
                            <button class="small-btn" data-model-type="vehicle">Êï¥ËΩ¶Ê®°Âûã</button>
                            <button class="small-btn primary">
                                <svg class="btn-icon" viewBox="0 0 16 16" fill="currentColor">
                                    <path d="M13.333 1H2.667C1.75 1 1 1.75 1 2.667v10.666C1 14.25 1.75 15 2.667 15h10.666C14.25 15 15 14.25 15 13.333V2.667C15 1.75 14.25 1 13.333 1zM14 13.333c0 .367-.3.667-.667.667H2.667c-.367 0-.667-.3-.667-.667V2.667c0-.367.3-.667.667-.667h10.666c.367 0 .667.3.667.667v10.666z"/>
                                    <path d="M3 5h10M3 8h4M3 11h4"/>
                                </svg>
                                Ê®°ÂûãÂ∫ìÁÆ°ÁêÜ
                            </button>
                        </div>

                        <!-- ÂèØÊªöÂä®ÂÜÖÂÆπÂå∫Âüü -->
                        <div style="flex: 1; overflow-y: auto; min-height: 0;">
                            <!-- ÂèÇËÄÉÂõæ -->
                            <div class="reference-image-section" style="flex-shrink: 0;">
                                <label class="section-label">ÂèÇËÄÉÂõæ</label>
                                <div class="reference-image-container">
                                    <div class="reference-image"></div>
                                </div>
                            </div>

                            <!-- Èù∂ÊùøÂèÇÊï∞ -->
                            <div style="flex-shrink: 0; padding-bottom: 20px;">
                                <h3 class="target-params-title">Èù∂ÊùøÂèÇÊï∞</h3>
                                
                                <!-- ÂèÇÊï∞ËæìÂÖ• -->
                                <div class="param-inputs-grid">
                                    <div class="param-input-group">
                                        <label class="param-input-label">Èù∂ÊùøÂ±ÇÊï∞</label>
                                        <div class="param-input-wrapper">
                                            <input type="number" class="param-input-field" value="2" readonly>
                                        </div>
                                    </div>
                                    <div class="param-input-group">
                                        <label class="param-input-label">ÁΩëÊ†ºÁ≤íÂ∫¶</label>
                                        <div class="param-input-wrapper">
                                            <input type="number" class="param-input-field" value="2" readonly>
                                        </div>
                                    </div>
                                    <div class="param-input-group">
                                        <label class="param-input-label">Èù∂ÊùøÈïøÂ∫¶</label>
                                        <div class="param-input-wrapper">
                                            <input type="number" class="param-input-field" value="50">
                                            <span class="param-input-unit">cm</span>
                                        </div>
                                    </div>
                                    <div class="param-input-group">
                                        <label class="param-input-label">Èù∂ÊùøÂÆΩÂ∫¶</label>
                                        <div class="param-input-wrapper">
                                            <input type="number" class="param-input-field" value="50">
                                            <span class="param-input-unit">cm</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Èù∂ÊùøÂèÇÊï∞Ë°®Ê†º -->
                                <div class="target-board-table">
                                    <div class="target-board-table-header">
                                        <div class="target-board-table-header-cell">ÁºñÂè∑</div>
                                        <div class="target-board-table-header-cell">Èù∂ÊùøÂéöÂ∫¶</div>
                                        <div class="target-board-table-header-cell">Ë∑ùÂâç‰∏ÄÁõÆÊ†áË∑ùÁ¶ª</div>
                                        <div class="target-board-table-header-cell">Èù∂ÊùøÊùêÊñô</div>
                                    </div>
                                    <div class="target-board-table-row">
                                        <div class="target-board-table-cell number-cell">1</div>
                                        <div class="target-board-table-cell">
                                            <input type="number" value="10">
                                            <span style="opacity: 0.4; margin-left: 4px;">cm</span>
                                        </div>
                                        <div class="target-board-table-cell">
                                            <input type="number" value="0">
                                            <span style="opacity: 0.4; margin-left: 4px;">cm</span>
                                        </div>
                                        <div class="target-board-table-cell">
                                            <select>
                                                <option value="steel">ÊüêÊüêÊùêÊñô</option>
                                                <option value="concrete">Ê∑∑ÂáùÂúü</option>
                                                <option value="armor">Ë£ÖÁî≤Èí¢</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="target-board-table-row">
                                        <div class="target-board-table-cell number-cell">2</div>
                                        <div class="target-board-table-cell">
                                            <input type="number" value="10">
                                            <span style="opacity: 0.4; margin-left: 4px;">cm</span>
                                        </div>
                                        <div class="target-board-table-cell">
                                            <input type="number" value="100">
                                            <span style="opacity: 0.4; margin-left: 4px;">cm</span>
                                        </div>
                                        <div class="target-board-table-cell">
                                            <select>
                                                <option value="" class="material-select-placeholder">ËØ∑ÈÄâÊã©</option>
                                                <option value="steel">ÊüêÊüêÊùêÊñô</option>
                                                <option value="concrete">Ê∑∑ÂáùÂúü</option>
                                                <option value="armor">Ë£ÖÁî≤Èí¢</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Â∫ïÈÉ®Êìç‰ΩúÊåâÈíÆ -->
                    <div class="target-modeling-actions">
                        <button class="action-btn-secondary">‰øùÂ≠òËá≥Ê®°ÂûãÂ∫ì</button>
                        <button class="action-btn-primary">ÁîüÊàêÈù∂ÊùøÊ®°Âûã</button>
                    </div>
                </section>

                <!-- Âè≥‰æß‰∏âÁª¥ËßÜÂõæÂå∫Âüü (70%) -->
                <section class="threejs-view-section" aria-label="‰∏âÁª¥ËßÜÂõæ">
                    <div class="threejs-view-container">
                        <div style="text-align: center;">
                            <div style="font-size: 48px; margin-bottom: 16px;">üéØ</div>
                            <div>‰∏âÁª¥Èù∂ÊùøÊ®°ÂûãËßÜÂõæ</div>
                            <div style="margin-top: 8px; font-size: 14px; opacity: 0.7;">
                                ÁîüÊàêÈù∂ÊùøÊ®°ÂûãÂêéÂ∞ÜÂú®Ê≠§Â§ÑÊòæÁ§∫‰∏âÁª¥ËßÜÂõæ
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- =============================================================================
         ÊùêÊñôÈÄâÊã©ÂºπÂá∫Ê°Ü
         ============================================================================= -->
    <div class="modal-overlay" id="materialModal" role="dialog" aria-labelledby="modalTitle" aria-modal="true">
        <div class="modal-container">
            <!-- ÂºπÂá∫Ê°ÜÂ§¥ÈÉ® -->
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">ÊùêÊñôÈÄâÊã©</h2>
                <button class="modal-close-btn" type="button" aria-label="ÂÖ≥Èó≠ÂØπËØùÊ°Ü">
                    <svg viewBox="0 0 16 16" fill="currentColor">
                        <path d="M4.646 4.646a.5.5 0 01.708 0L8 7.293l2.646-2.647a.5.5 0 01.708.708L8.707 8l2.647 2.646a.5.5 0 01-.708.708L8 8.707l-2.646 2.647a.5.5 0 01-.708-.708L7.293 8 4.646 5.354a.5.5 0 010-.708z"/>
                    </svg>
                </button>
            </div>

            <!-- ÂºπÂá∫Ê°ÜÂÜÖÂÆπ -->
            <div class="modal-content">
                <!-- Êñ∞Â¢ûÊùêÊñôÊåâÈíÆ -->
                <button class="add-material-modal-btn" type="button">
                    Êñ∞Â¢ûÊùêÊñô
                </button>

                <!-- ÊùêÊñôÂàóË°®Ë°®Ê†º -->
                <div class="material-table">
                    <table>
                        <thead>
                            <tr>
                                <th></th>
                                <th>ÊùêÊñôÁºñÂè∑</th>
                                <th>ÊùêÊñôÂêçÁß∞</th>
                                <th>Êú¨ÊûÑÊñπÁ®ã</th>
                                <th>Áä∂ÊÄÅÊñπÁ®ã</th>
                                <th>Êìç‰Ωú</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <div class="material-checkbox" data-material-id="1"></div>
                                </td>
                                <td>1</td>
                                <td>Ë£ÖÁî≤Èí¢</td>
                                <td>GRUNEISEN</td>
                                <td>JOHNSON_COOK</td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="action-btn edit-btn" type="button" aria-label="ÁºñËæëÊùêÊñô" data-material-id="1">
                                            <svg viewBox="0 0 16 16" fill="currentColor">
                                                <path d="M11.498 1.5l.5-.5a2.121 2.121 0 113 3l-.5.5-3-3zM10.498 2.5l-8 8V13h2.5l8-8-2.5-2.5z"/>
                                            </svg>
                                        </button>
                                        <button class="action-btn delete-btn" type="button" aria-label="Âà†Èô§ÊùêÊñô" data-material-id="1">
                                            <svg viewBox="0 0 16 16" fill="currentColor">
                                                <path d="M5.5 5.5A.5.5 0 016 6v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm2.5 0a.5.5 0 01.5.5v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm3 .5a.5.5 0 00-1 0v6a.5.5 0 001 0V6z"/>
                                                <path fill-rule="evenodd" d="M14.5 3a1 1 0 01-1 1H13v9a2 2 0 01-2 2H5a2 2 0 01-2-2V4h-.5a1 1 0 01-1-1V2a1 1 0 011-1H6a1 1 0 011-1h2a1 1 0 011 1h3.5a1 1 0 011 1v1zM4.118 4L4 4.059V13a1 1 0 001 1h6a1 1 0 001-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
                                            </svg>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="material-checkbox checked" data-material-id="2"></div>
                                </td>
                                <td>2</td>
                                <td>Ê∑∑ÂáùÂúü</td>
                                <td>GRUNEISEN</td>
                                <td>JOHNSON_COOK</td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="action-btn edit-btn" type="button" aria-label="ÁºñËæëÊùêÊñô" data-material-id="2">
                                            <svg viewBox="0 0 16 16" fill="currentColor">
                                                <path d="M11.498 1.5l.5-.5a2.121 2.121 0 113 3l-.5.5-3-3zM10.498 2.5l-8 8V13h2.5l8-8-2.5-2.5z"/>
                                            </svg>
                                        </button>
                                        <button class="action-btn delete-btn" type="button" aria-label="Âà†Èô§ÊùêÊñô" data-material-id="2">
                                            <svg viewBox="0 0 16 16" fill="currentColor">
                                                <path d="M5.5 5.5A.5.5 0 016 6v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm2.5 0a.5.5 0 01.5.5v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm3 .5a.5.5 0 00-1 0v6a.5.5 0 001 0V6z"/>
                                                <path fill-rule="evenodd" d="M14.5 3a1 1 0 01-1 1H13v9a2 2 0 01-2 2H5a2 2 0 01-2-2V4h-.5a1 1 0 01-1-1V2a1 1 0 011-1H6a1 1 0 011-1h2a1 1 0 011 1h3.5a1 1 0 011 1v1zM4.118 4L4 4.059V13a1 1 0 001 1h6a1 1 0 001-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
                                            </svg>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="material-checkbox checked" data-material-id="3"></div>
                                </td>
                                <td>3</td>
                                <td>45#Èí¢</td>
                                <td>GRUNEISEN</td>
                                <td>JOHNSON_COOK</td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="action-btn edit-btn" type="button" aria-label="ÁºñËæëÊùêÊñô" data-material-id="3">
                                            <svg viewBox="0 0 16 16" fill="currentColor">
                                                <path d="M11.498 1.5l.5-.5a2.121 2.121 0 113 3l-.5.5-3-3zM10.498 2.5l-8 8V13h2.5l8-8-2.5-2.5z"/>
                                            </svg>
                                        </button>
                                        <button class="action-btn delete-btn" type="button" aria-label="Âà†Èô§ÊùêÊñô" data-material-id="3">
                                            <svg viewBox="0 0 16 16" fill="currentColor">
                                                <path d="M5.5 5.5A.5.5 0 016 6v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm2.5 0a.5.5 0 01.5.5v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm3 .5a.5.5 0 00-1 0v6a.5.5 0 001 0V6z"/>
                                                <path fill-rule="evenodd" d="M14.5 3a1 1 0 01-1 1H13v9a2 2 0 01-2 2H5a2 2 0 01-2-2V4h-.5a1 1 0 01-1-1V2a1 1 0 011-1H6a1 1 0 011-1h2a1 1 0 011 1h3.5a1 1 0 011 1v1zM4.118 4L4 4.059V13a1 1 0 001 1h6a1 1 0 001-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
                                            </svg>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="material-checkbox" data-material-id="4"></div>
                                </td>
                                <td>4</td>
                                <td>RHAË£ÖÁî≤Èí¢</td>
                                <td>GRUNEISEN</td>
                                <td>JOHNSON_COOK</td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="action-btn edit-btn" type="button" aria-label="ÁºñËæëÊùêÊñô" data-material-id="4">
                                            <svg viewBox="0 0 16 16" fill="currentColor">
                                                <path d="M11.498 1.5l.5-.5a2.121 2.121 0 113 3l-.5.5-3-3zM10.498 2.5l-8 8V13h2.5l8-8-2.5-2.5z"/>
                                            </svg>
                                        </button>
                                        <button class="action-btn delete-btn" type="button" aria-label="Âà†Èô§ÊùêÊñô" data-material-id="4">
                                            <svg viewBox="0 0 16 16" fill="currentColor">
                                                <path d="M5.5 5.5A.5.5 0 016 6v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm2.5 0a.5.5 0 01.5.5v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm3 .5a.5.5 0 00-1 0v6a.5.5 0 001 0V6z"/>
                                                <path fill-rule="evenodd" d="M14.5 3a1 1 0 01-1 1H13v9a2 2 0 01-2 2H5a2 2 0 01-2-2V4h-.5a1 1 0 01-1-1V2a1 1 0 011-1H6a1 1 0 011-1h2a1 1 0 011 1h3.5a1 1 0 011 1v1zM4.118 4L4 4.059V13a1 1 0 001 1h6a1 1 0 001-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
                                            </svg>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="material-checkbox" data-material-id="5"></div>
                                </td>
                                <td>5</td>
                                <td>Á¥´Èìú1</td>
                                <td>GRUNEISEN</td>
                                <td>JOHNSON_COOK</td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="action-btn edit-btn" type="button" aria-label="ÁºñËæëÊùêÊñô" data-material-id="5">
                                            <svg viewBox="0 0 16 16" fill="currentColor">
                                                <path d="M11.498 1.5l.5-.5a2.121 2.121 0 113 3l-.5.5-3-3zM10.498 2.5l-8 8V13h2.5l8-8-2.5-2.5z"/>
                                            </svg>
                                        </button>
                                        <button class="action-btn delete-btn" type="button" aria-label="Âà†Èô§ÊùêÊñô" data-material-id="5">
                                            <svg viewBox="0 0 16 16" fill="currentColor">
                                                <path d="M5.5 5.5A.5.5 0 016 6v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm2.5 0a.5.5 0 01.5.5v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm3 .5a.5.5 0 00-1 0v6a.5.5 0 001 0V6z"/>
                                                <path fill-rule="evenodd" d="M14.5 3a1 1 0 01-1 1H13v9a2 2 0 01-2 2H5a2 2 0 01-2-2V4h-.5a1 1 0 01-1-1V2a1 1 0 011-1H6a1 1 0 011-1h2a1 1 0 011 1h3.5a1 1 0 011 1v1zM4.118 4L4 4.059V13a1 1 0 001 1h6a1 1 0 001-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
                                            </svg>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- ÂºπÂá∫Ê°ÜÂ∫ïÈÉ®ÊåâÈíÆ -->
            <div class="modal-footer">
                <button class="modal-btn modal-btn-cancel" type="button">ÂèñÊ∂à</button>
                <button class="modal-btn modal-btn-save" type="button">‰øùÂ≠ò</button>
            </div>
        </div>
    </div>

    <!-- =============================================================================
         Êñ∞Â¢ûÊùêÊñôÂºπÂá∫Ê°Ü
         ============================================================================= -->
    <div class="modal-overlay" id="addMaterialModal" role="dialog" aria-labelledby="addModalTitle" aria-modal="true">
        <div class="add-material-modal-container">
            <!-- ÂºπÂá∫Ê°ÜÂ§¥ÈÉ® -->
            <div class="modal-header">
                <h2 class="modal-title" id="addModalTitle">Êñ∞Â¢ûÊùêÊñô</h2>
                <button class="modal-close-btn" type="button" aria-label="ÂÖ≥Èó≠ÂØπËØùÊ°Ü">
                    <svg viewBox="0 0 16 16" fill="currentColor">
                        <path d="M4.646 4.646a.5.5 0 01.708 0L8 7.293l2.646-2.647a.5.5 0 01.708.708L8.707 8l2.647 2.646a.5.5 0 01-.708.708L8 8.707l-2.646 2.647a.5.5 0 01-.708-.708L7.293 8 4.646 5.354a.5.5 0 010-.708z"/>
                    </svg>
                </button>
            </div>

            <!-- ÂºπÂá∫Ê°ÜÂÜÖÂÆπ -->
            <div class="add-material-modal-content">
                <!-- Âü∫Êú¨‰ø°ÊÅØË°å -->
                <div class="material-basic-info">
                    <div class="form-group">
                        <label for="materialName" class="form-label">ÊùêÊñôÂêçÁß∞</label>
                        <input type="text" id="materialName" class="form-input" placeholder="Ë£ÖÁî≤Èí¢" value="Ë£ÖÁî≤Èí¢">
                    </div>
                    <div class="form-group">
                        <label for="materialId" class="form-label">ÊùêÊñôÁºñÂè∑</label>
                        <input type="text" id="materialId" class="form-input" placeholder="12" value="12">
                    </div>
                </div>

                <!-- ÂèÇÊï∞ÈÖçÁΩÆÂå∫Âüü -->
                <div class="material-params-area">
                    <!-- Â∑¶‰æßÔºöÊú¨ÊûÑÊñπÁ®ãÂèÇÊï∞ -->
                    <div class="param-section constitutive-params">
                        <div class="param-section-header">
                            <label for="constitutiveSelect" class="section-label">Êú¨ÊûÑÊñπÁ®ãÈÄâÊã©</label>
                            <select id="constitutiveSelect" class="param-select">
                                <option value="PLASTIC_KINEMATIC" selected>PLASTIC_KINEMATIC</option>
                            </select>
                        </div>

                        <div class="param-grid">
                            <div class="param-labels">
                                <div class="param-label-header">ÂèÇÊï∞ÂêçÁß∞</div>
                                <div class="param-label">MID</div>
                                <div class="param-label">RO</div>
                                <div class="param-label">E</div>
                                <div class="param-label">PR</div>
                                <div class="param-label">SIGY</div>
                                <div class="param-label">ETAN</div>
                                <div class="param-label">BEAT</div>
                                <div class="param-label">SRC</div>
                                <div class="param-label">SRP</div>
                                <div class="param-label">FS</div>
                                <div class="param-label">VP</div>
                            </div>
                            
                            <div class="param-units">
                                <div class="param-unit-header">Âçï‰ΩçÂà∂ (cm/g/Œºs)</div>
                                <div class="param-unit"></div>
                                <div class="param-unit"></div>
                                <div class="param-unit"></div>
                                <div class="param-unit"></div>
                                <div class="param-unit"></div>
                                <div class="param-unit"></div>
                                <div class="param-unit"></div>
                                <div class="param-unit"></div>
                                <div class="param-unit"></div>
                                <div class="param-unit"></div>
                                <div class="param-unit"></div>
                            </div>
                            
                            <div class="param-values">
                                <div class="param-value-header">ÂÄº</div>
                                <input type="text" class="param-input" value="1" placeholder="1">
                                <input type="text" class="param-input" value="7.85" placeholder="7.85">
                                <input type="text" class="param-input" value="2.1" placeholder="2.1">
                                <input type="text" class="param-input" value="0.284" placeholder="0.284">
                                <input type="text" class="param-input" value="0.018" placeholder="0.018">
                                <input type="text" class="param-input" value="0.2" placeholder="0.2">
                                <input type="text" class="param-input" value="1.0" placeholder="1.0">
                                <input type="text" class="param-input" value="0.0" placeholder="0.0">
                                <input type="text" class="param-input" value="0.0" placeholder="0.0">
                                <input type="text" class="param-input" value="12.0" placeholder="12.0">
                                <input type="text" class="param-input" value="0.0" placeholder="0.0">
                            </div>
                        </div>
                    </div>

                    <!-- Âè≥‰æßÔºöÁä∂ÊÄÅÊñπÁ®ãÂèÇÊï∞ -->
                    <div class="param-section equation-params">
                        <div class="param-section-header">
                            <label for="equationSelect" class="section-label">Áä∂ÊÄÅÊñπÁ®ãÈÄâÊã©</label>
                            <select id="equationSelect" class="param-select">
                                <option value="PLASTIC_KINEMATIC" selected>PLASTIC_KINEMATIC</option>
                            </select>
                        </div>

                        <div class="param-grid">
                            <div class="param-labels">
                                <div class="param-label-header">ÂèÇÊï∞ÂêçÁß∞</div>
                                <div class="param-label">EOSID</div>
                                <div class="param-label">C0</div>
                                <div class="param-label">C1</div>
                                <div class="param-label">C2</div>
                                <div class="param-label">C3</div>
                                <div class="param-label">C4</div>
                                <div class="param-label">C5</div>
                                <div class="param-label">C6</div>
                                <div class="param-label">E0</div>
                                <div class="param-label">V0</div>
                            </div>
                            
                            <div class="param-units">
                                <div class="param-unit-header">Âçï‰ΩçÂà∂ (cm/g/Œºs)</div>
                                <div class="param-unit"></div>
                                <div class="param-unit"></div>
                                <div class="param-unit"></div>
                                <div class="param-unit"></div>
                                <div class="param-unit"></div>
                                <div class="param-unit"></div>
                                <div class="param-unit"></div>
                                <div class="param-unit"></div>
                                <div class="param-unit"></div>
                                <div class="param-unit"></div>
                            </div>
                            
                            <div class="param-values">
                                <div class="param-value-header">ÂÄº</div>
                                <input type="text" class="param-input" value="" placeholder="">
                                <input type="text" class="param-input" value="" placeholder="">
                                <input type="text" class="param-input" value="" placeholder="">
                                <input type="text" class="param-input" value="" placeholder="">
                                <input type="text" class="param-input" value="" placeholder="">
                                <input type="text" class="param-input" value="" placeholder="">
                                <input type="text" class="param-input" value="" placeholder="">
                                <input type="text" class="param-input" value="" placeholder="">
                                <input type="text" class="param-input" value="" placeholder="">
                                <input type="text" class="param-input" value="" placeholder="">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ÂºπÂá∫Ê°ÜÂ∫ïÈÉ®ÊåâÈíÆ -->
            <div class="modal-footer">
                <button class="modal-btn modal-btn-cancel" type="button">ÂèñÊ∂à</button>
                <button class="modal-btn modal-btn-save" type="button">Á°ÆÂÆö</button>
            </div>
        </div>
    </div>

    <script>
        // ÊùêÊñôÈÄâÊã©ÂºπÂá∫Ê°ÜÂäüËÉΩ
        document.addEventListener('DOMContentLoaded', function() {
            const addBtn = document.querySelector('.add-material-btn');
            const modal = document.getElementById('materialModal');
            const modalCloseBtn = document.querySelector('.modal-close-btn');
            const modalCancelBtn = document.querySelector('.modal-btn-cancel');
            const modalSaveBtn = document.querySelector('.modal-btn-save');
            const addMaterialModalBtn = document.querySelector('.add-material-modal-btn');

            // Â≠òÂÇ®ÈÄâ‰∏≠ÁöÑÊùêÊñô
            let selectedMaterials = [];

            // ÊâìÂºÄÂºπÂá∫Ê°Ü
            function openModal() {
                modal.classList.add('active');
                document.body.style.overflow = 'hidden'; // Èò≤Ê≠¢ËÉåÊôØÊªöÂä®
                
                // ËÆæÁΩÆÁÑ¶ÁÇπÂà∞Á¨¨‰∏Ä‰∏™ÂèØËÅöÁÑ¶ÂÖÉÁ¥†
                setTimeout(() => {
                    const firstFocusable = modal.querySelector('button, [tabindex]:not([tabindex="-1"])');
                    if (firstFocusable) {
                        firstFocusable.focus();
                    }
                }, 100);
            }

            // ÂÖ≥Èó≠ÂºπÂá∫Ê°Ü
            function closeModal() {
                modal.classList.remove('active');
                document.body.style.overflow = ''; // ÊÅ¢Â§çËÉåÊôØÊªöÂä®
                addBtn.focus(); // Â∞ÜÁÑ¶ÁÇπËøîÂõûÂà∞Ëß¶ÂèëÊåâÈíÆ
            }

            // ‰∫ã‰ª∂ÁõëÂê¨Âô®
            addBtn.addEventListener('click', openModal);
            modalCloseBtn.addEventListener('click', closeModal);
            modalCancelBtn.addEventListener('click', closeModal);

            // ÁÇπÂáªÈÅÆÁΩ©Â±ÇÂÖ≥Èó≠ÂºπÂá∫Ê°Ü
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeModal();
                }
            });

            // ESCÈîÆÂÖ≥Èó≠ÂºπÂá∫Ê°Ü
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && modal.classList.contains('active')) {
                    closeModal();
                }
            });

            // Â§çÈÄâÊ°ÜÂäüËÉΩ
            const checkboxes = document.querySelectorAll('.material-checkbox');
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('click', function() {
                    const materialId = this.getAttribute('data-material-id');
                    
                    if (this.classList.contains('checked')) {
                        // ÂèñÊ∂àÈÄâ‰∏≠
                        this.classList.remove('checked');
                        selectedMaterials = selectedMaterials.filter(id => id !== materialId);
                    } else {
                        // ÈÄâ‰∏≠
                        this.classList.add('checked');
                        selectedMaterials.push(materialId);
                    }
                    
                    console.log('ÈÄâ‰∏≠ÁöÑÊùêÊñô:', selectedMaterials);
                });
            });

            // ÁºñËæëÊåâÈíÆÂäüËÉΩ
            const editBtns = document.querySelectorAll('.edit-btn');
            editBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const materialId = this.getAttribute('data-material-id');
                    console.log('ÁºñËæëÊùêÊñô:', materialId);
                    alert(`ÁºñËæëÊùêÊñô ${materialId} ÂäüËÉΩÂæÖÂÆûÁé∞`);
                });
            });

            // Âà†Èô§ÊåâÈíÆÂäüËÉΩ
            const deleteBtns = document.querySelectorAll('.delete-btn');
            deleteBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const materialId = this.getAttribute('data-material-id');
                    const materialName = this.closest('tr').children[2].textContent;
                    
                    if (confirm(`Á°ÆÂÆöË¶ÅÂà†Èô§ÊùêÊñô "${materialName}" ÂêóÔºü`)) {
                        console.log('Âà†Èô§ÊùêÊñô:', materialId);
                        // ËøôÈáåÂèØ‰ª•Ê∑ªÂä†Âà†Èô§ÊùêÊñôÁöÑÈÄªËæë
                        this.closest('tr').remove();
                        // ‰ªéÈÄâ‰∏≠ÂàóË°®‰∏≠ÁßªÈô§
                        selectedMaterials = selectedMaterials.filter(id => id !== materialId);
                    }
                });
            });

            // Êñ∞Â¢ûÊùêÊñôÊåâÈíÆÂäüËÉΩ
            addMaterialModalBtn.addEventListener('click', function() {
                console.log('Êñ∞Â¢ûÊùêÊñô');
                closeModal(); // ÂÖ≥Èó≠ÊùêÊñôÈÄâÊã©ÂºπÂá∫Ê°Ü
                openAddMaterialModal(); // ÊâìÂºÄÊñ∞Â¢ûÊùêÊñôÂºπÂá∫Ê°Ü
            });

            // ‰øùÂ≠òÊåâÈíÆÂäüËÉΩ
            modalSaveBtn.addEventListener('click', function() {
                if (selectedMaterials.length === 0) {
                    alert('ËØ∑Ëá≥Â∞ëÈÄâÊã©‰∏Ä‰∏™ÊùêÊñô');
                    return;
                }
                
                console.log('Á°ÆÂÆöÈÄâÊã©ÁöÑÊùêÊñô:', selectedMaterials);
                
                // Â∞ÜÈÄâ‰∏≠ÁöÑÊùêÊñôÊ∑ªÂä†Âà∞È°πÁõÆÊùêÊñôÂ∫ì
                addMaterialsToProject(selectedMaterials);
                
                closeModal();
            });

            // ÈîÆÁõòÂØºËà™ÊîØÊåÅ
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Tab') {
                    document.body.classList.add('keyboard-navigation');
                }
            });

            document.addEventListener('mousedown', function() {
                document.body.classList.remove('keyboard-navigation');
            });

            // ÁÑ¶ÁÇπÁÆ°ÁêÜ - Âõ∞Âú®ÂºπÂá∫Ê°ÜÂÜÖ
            modal.addEventListener('keydown', function(e) {
                if (e.key === 'Tab' && modal.classList.contains('active')) {
                    const focusableElements = modal.querySelectorAll(
                        'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
                    );
                    const firstFocusable = focusableElements[0];
                    const lastFocusable = focusableElements[focusableElements.length - 1];

                    if (e.shiftKey) {
                        // Shift + Tab
                        if (document.activeElement === firstFocusable) {
                            e.preventDefault();
                            lastFocusable.focus();
                        }
                    } else {
                        // Tab
                        if (document.activeElement === lastFocusable) {
                            e.preventDefault();
                            firstFocusable.focus();
                        }
                    }
                }
            });

            // ÂàùÂßãÂåñÈÄâ‰∏≠Áä∂ÊÄÅ
            checkboxes.forEach(checkbox => {
                if (checkbox.classList.contains('checked')) {
                    const materialId = checkbox.getAttribute('data-material-id');
                    selectedMaterials.push(materialId);
                }
            });

            console.log('ÂàùÂßãÈÄâ‰∏≠ÁöÑÊùêÊñô:', selectedMaterials);

            // =============================================================================
            // ÊùêÊñôÈ°πÁõÆÁÆ°ÁêÜÂäüËÉΩ
            // =============================================================================
            
            // Â≠òÂÇ®È°πÁõÆ‰∏≠ÁöÑÊùêÊñôÊï∞ÊçÆ
            let projectMaterials = [];
            let activeMaterial = null;
            
            // ÊùêÊñôÊï∞ÊçÆÊ®°Êùø
            const materialDatabase = {
                '1': {
                    id: '1',
                    name: 'Ë£ÖÁî≤Èí¢',
                    constitutive: 'PLASTIC_KINEMATIC',
                    equation: 'PLASTIC_KINEMATIC',
                    constitutiveParams: {
                        'MID': '1',
                        'RO': '7.85',
                        'E': '2.1',
                        'PR': '0.284',
                        'SIGY': '0.018',
                        'ETAN': '0.2',
                        'BEAT': '1.0',
                        'SRC': '0.0',
                        'SRP': '0.0',
                        'FS': '12.0',
                        'VP': '0.0'
                    },
                    equationParams: {
                        'EOSID': '',
                        'C0': '',
                        'C1': '',
                        'C2': '',
                        'C3': '',
                        'C4': '',
                        'C5': '',
                        'C6': '',
                        'E0': '',
                        'V0': ''
                    }
                },
                '2': {
                    id: '2',
                    name: 'Ê∑∑ÂáùÂúü',
                    constitutive: 'PLASTIC_KINEMATIC',
                    equation: 'PLASTIC_KINEMATIC',
                    constitutiveParams: {
                        'MID': '2',
                        'RO': '2.4',
                        'E': '0.3',
                        'PR': '0.2',
                        'SIGY': '0.05',
                        'ETAN': '0.01',
                        'BEAT': '1.0',
                        'SRC': '0.0',
                        'SRP': '0.0',
                        'FS': '2.0',
                        'VP': '0.0'
                    },
                    equationParams: {
                        'EOSID': '',
                        'C0': '',
                        'C1': '',
                        'C2': '',
                        'C3': '',
                        'C4': '',
                        'C5': '',
                        'C6': '',
                        'E0': '',
                        'V0': ''
                    }
                },
                '3': {
                    id: '3',
                    name: '45#Èí¢',
                    constitutive: 'PLASTIC_KINEMATIC',
                    equation: 'PLASTIC_KINEMATIC',
                    constitutiveParams: {
                        'MID': '3',
                        'RO': '7.8',
                        'E': '2.0',
                        'PR': '0.3',
                        'SIGY': '0.45',
                        'ETAN': '0.5',
                        'BEAT': '1.0',
                        'SRC': '0.0',
                        'SRP': '0.0',
                        'FS': '10.0',
                        'VP': '0.0'
                    },
                    equationParams: {
                        'EOSID': '',
                        'C0': '',
                        'C1': '',
                        'C2': '',
                        'C3': '',
                        'C4': '',
                        'C5': '',
                        'C6': '',
                        'E0': '',
                        'V0': ''
                    }
                },
                '4': {
                    id: '4',
                    name: 'RHAË£ÖÁî≤Èí¢',
                    constitutive: 'PLASTIC_KINEMATIC',
                    equation: 'PLASTIC_KINEMATIC',
                    constitutiveParams: {
                        'MID': '4',
                        'RO': '7.85',
                        'E': '2.1',
                        'PR': '0.284',
                        'SIGY': '1.2',
                        'ETAN': '0.8',
                        'BEAT': '1.0',
                        'SRC': '0.0',
                        'SRP': '0.0',
                        'FS': '15.0',
                        'VP': '0.0'
                    },
                    equationParams: {
                        'EOSID': '',
                        'C0': '',
                        'C1': '',
                        'C2': '',
                        'C3': '',
                        'C4': '',
                        'C5': '',
                        'C6': '',
                        'E0': '',
                        'V0': ''
                    }
                },
                '5': {
                    id: '5',
                    name: 'Á¥´Èìú1',
                    constitutive: 'PLASTIC_KINEMATIC',
                    equation: 'PLASTIC_KINEMATIC',
                    constitutiveParams: {
                        'MID': '5',
                        'RO': '8.9',
                        'E': '1.1',
                        'PR': '0.34',
                        'SIGY': '0.3',
                        'ETAN': '0.4',
                        'BEAT': '1.0',
                        'SRC': '0.0',
                        'SRP': '0.0',
                        'FS': '8.0',
                        'VP': '0.0'
                    },
                    equationParams: {
                        'EOSID': '',
                        'C0': '',
                        'C1': '',
                        'C2': '',
                        'C3': '',
                        'C4': '',
                        'C5': '',
                        'C6': '',
                        'E0': '',
                        'V0': ''
                    }
                }
            };
            
            // Ê∑ªÂä†ÊùêÊñôÂà∞È°πÁõÆ‰∏≠
            function addMaterialsToProject(materialIds) {
                materialIds.forEach(id => {
                    if (materialDatabase[id] && !projectMaterials.find(m => m.id === id)) {
                        projectMaterials.push(materialDatabase[id]);
                    }
                });
                
                updateMaterialList();
                
                // Â¶ÇÊûúÊòØÁ¨¨‰∏ÄÊ¨°Ê∑ªÂä†ÊùêÊñôÔºåËá™Âä®ÈÄâ‰∏≠Á¨¨‰∏Ä‰∏™
                if (projectMaterials.length > 0 && !activeMaterial) {
                    selectMaterial(projectMaterials[0]);
                }
            }
            
            // Êõ¥Êñ∞ÊùêÊñôÂàóË°®ÊòæÁ§∫
            function updateMaterialList() {
                const emptyState = document.getElementById('emptyState');
                const materialList = document.getElementById('materialList');
                
                if (projectMaterials.length === 0) {
                    emptyState.style.display = 'flex';
                    materialList.style.display = 'none';
                } else {
                    emptyState.style.display = 'none';
                    materialList.style.display = 'block';
                    
                    // ÁîüÊàêÊùêÊñôÂàóË°®HTML
                    materialList.innerHTML = projectMaterials.map(material => `
                        <div class="material-list-item" data-material-id="${material.id}" onclick="selectMaterial(materialDatabase['${material.id}'])">
                            <div class="material-item-info">
                                <div class="material-item-name">${material.name}</div>
                            </div>
                            <div class="material-item-actions">
                                <button class="material-action-btn" title="Âà†Èô§ÊùêÊñô" onclick="event.stopPropagation(); removeMaterial('${material.id}')">
                                    <svg viewBox="0 0 16 16" fill="currentColor">
                                        <path d="M5.5 5.5A.5.5 0 016 6v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm2.5 0a.5.5 0 01.5.5v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm3 .5a.5.5 0 00-1 0v6a.5.5 0 001 0V6z"/>
                                        <path fill-rule="evenodd" d="M14.5 3a1 1 0 01-1 1H13v9a2 2 0 01-2 2H5a2 2 0 01-2-2V4h-.5a1 1 0 01-1-1V2a1 1 0 011-1H6a1 1 0 011-1h2a1 1 0 011 1h3.5a1 1 0 011 1v1zM4.118 4L4 4.059V13a1 1 0 001 1h6a1 1 0 001-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    `).join('');
                }
            }
            
            // ÈÄâÊã©ÊùêÊñôÂπ∂ÊòæÁ§∫ËØ¶ÊÉÖ
            function selectMaterial(material) {
                activeMaterial = material;
                
                // Êõ¥Êñ∞ÂàóË°®È°πÁöÑÊøÄÊ¥ªÁä∂ÊÄÅ
                document.querySelectorAll('.material-list-item').forEach(item => {
                    item.classList.remove('active');
                });
                
                const activeItem = document.querySelector(`.material-list-item[data-material-id="${material.id}"]`);
                if (activeItem) {
                    activeItem.classList.add('active');
                }
                
                // ÊòæÁ§∫ÊùêÊñôËØ¶ÊÉÖ
                showMaterialDetails(material);
            }
            
            // ÊòæÁ§∫ÊùêÊñôËØ¶ÊÉÖ
            function showMaterialDetails(material) {
                const emptyState = document.getElementById('detailsEmptyState');
                const detailsContent = document.getElementById('materialDetailsContent');
                
                emptyState.style.display = 'none';
                detailsContent.style.display = 'block';
                
                // Êõ¥Êñ∞ÊñπÁ®ãÈÄâÊã©‰∏ãÊãâÊ°Ü
                document.getElementById('constitutiveEquation').value = material.constitutive;
                document.getElementById('stateEquation').value = material.equation;
                
                // Êõ¥Êñ∞Êú¨ÊûÑÊñπÁ®ãÂèÇÊï∞
                updateParamTable('constitutiveParams', material.constitutiveParams);
                
                // Êõ¥Êñ∞Áä∂ÊÄÅÊñπÁ®ãÂèÇÊï∞
                updateParamTable('stateParams', material.equationParams);
            }
            
            // Êõ¥Êñ∞ÂèÇÊï∞Ë°®Ê†º
            function updateParamTable(containerId, params) {
                const container = document.getElementById(containerId);
                
                const paramLabels = containerId === 'constitutiveParams' 
                    ? ['MID', 'RO', 'E', 'PR', 'SIGY', 'ETAN', 'BEAT', 'SRC', 'SRP', 'FS', 'VP']
                    : ['EOSID', 'C0', 'C1', 'C2', 'C3', 'C4', 'C5', 'C6', 'E0', 'V0'];
                
                container.innerHTML = paramLabels.map(label => `
                    <div class="param-row">
                        <div class="param-cell param-name">${label}</div>
                        <div class="param-cell param-unit">-</div>
                        <div class="param-cell param-value">${params[label] || '-'}</div>
                    </div>
                `).join('');
            }
            
            // ÁºñËæëÊùêÊñôÂäüËÉΩÂ∑≤ÁßªÈô§
            
            // Âà†Èô§ÊùêÊñô
            function removeMaterial(materialId) {
                const material = projectMaterials.find(m => m.id === materialId);
                if (material && confirm(`Á°ÆÂÆöË¶Å‰ªéÈ°πÁõÆ‰∏≠ÁßªÈô§ÊùêÊñô "${material.name}" ÂêóÔºü`)) {
                    projectMaterials = projectMaterials.filter(m => m.id !== materialId);
                    
                    // Â¶ÇÊûúÂà†Èô§ÁöÑÊòØÂΩìÂâçÊøÄÊ¥ªÁöÑÊùêÊñôÔºåÊ∏ÖÁ©∫ËØ¶ÊÉÖÊòæÁ§∫
                    if (activeMaterial && activeMaterial.id === materialId) {
                        activeMaterial = null;
                        document.getElementById('detailsEmptyState').style.display = 'flex';
                        document.getElementById('materialDetailsContent').style.display = 'none';
                        
                        // Â¶ÇÊûúËøòÊúâÂÖ∂‰ªñÊùêÊñôÔºåÈÄâ‰∏≠Á¨¨‰∏Ä‰∏™
                        if (projectMaterials.length > 0) {
                            selectMaterial(projectMaterials[0]);
                        }
                    }
                    
                    updateMaterialList();
                }
            }
            
            // Ê∑ªÂä†ÊñπÁ®ãÈÄâÊã©‰∏ãÊãâÊ°Ü‰∫ã‰ª∂ÁõëÂê¨Âô®
            document.addEventListener('change', function(e) {
                if (e.target.id === 'constitutiveEquation' && activeMaterial) {
                    // Êõ¥Êñ∞ÂΩìÂâçÊùêÊñôÁöÑÊú¨ÊûÑÊñπÁ®ã
                    activeMaterial.constitutive = e.target.value;
                    console.log(`ÊùêÊñô ${activeMaterial.name} ÁöÑÊú¨ÊûÑÊñπÁ®ãÂ∑≤Êõ¥Êîπ‰∏∫: ${e.target.value}`);
                }
                
                if (e.target.id === 'stateEquation' && activeMaterial) {
                    // Êõ¥Êñ∞ÂΩìÂâçÊùêÊñôÁöÑÁä∂ÊÄÅÊñπÁ®ã
                    activeMaterial.equation = e.target.value;
                    console.log(`ÊùêÊñô ${activeMaterial.name} ÁöÑÁä∂ÊÄÅÊñπÁ®ãÂ∑≤Êõ¥Êîπ‰∏∫: ${e.target.value}`);
                }
            });

            // Á°Æ‰øùÂáΩÊï∞Âú®ÂÖ®Â±Ä‰ΩúÁî®ÂüüÂèØÁî®
            window.selectMaterial = selectMaterial;
            window.removeMaterial = removeMaterial;

            // =============================================================================
            // Êñ∞Â¢ûÊùêÊñôÂºπÂá∫Ê°ÜÂäüËÉΩ
            // =============================================================================
            const addMaterialModal = document.getElementById('addMaterialModal');
            const addMaterialCloseBtn = addMaterialModal.querySelector('.modal-close-btn');
            const addMaterialCancelBtn = addMaterialModal.querySelector('.modal-btn-cancel');
            const addMaterialSaveBtn = addMaterialModal.querySelector('.modal-btn-save');

            // ÊâìÂºÄÊñ∞Â¢ûÊùêÊñôÂºπÂá∫Ê°Ü
            function openAddMaterialModal() {
                addMaterialModal.classList.add('active');
                document.body.style.overflow = 'hidden';
                
                // ËÆæÁΩÆÁÑ¶ÁÇπÂà∞Á¨¨‰∏Ä‰∏™ËæìÂÖ•Ê°Ü
                setTimeout(() => {
                    const firstInput = addMaterialModal.querySelector('#materialName');
                    if (firstInput) {
                        firstInput.focus();
                        firstInput.select();
                    }
                }, 100);
            }

            // ÂÖ≥Èó≠Êñ∞Â¢ûÊùêÊñôÂºπÂá∫Ê°Ü
            function closeAddMaterialModal() {
                addMaterialModal.classList.remove('active');
                document.body.style.overflow = '';
                addBtn.focus(); // Â∞ÜÁÑ¶ÁÇπËøîÂõûÂà∞Ëß¶ÂèëÊåâÈíÆ
            }

            // ‰∫ã‰ª∂ÁõëÂê¨Âô®
            addMaterialCloseBtn.addEventListener('click', closeAddMaterialModal);
            addMaterialCancelBtn.addEventListener('click', closeAddMaterialModal);

            // ÁÇπÂáªÈÅÆÁΩ©Â±ÇÂÖ≥Èó≠ÂºπÂá∫Ê°Ü
            addMaterialModal.addEventListener('click', function(e) {
                if (e.target === addMaterialModal) {
                    closeAddMaterialModal();
                }
            });

            // ESCÈîÆÂÖ≥Èó≠ÂºπÂá∫Ê°Ü
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && addMaterialModal.classList.contains('active')) {
                    closeAddMaterialModal();
                }
            });

            // ‰øùÂ≠òÊñ∞Â¢ûÊùêÊñô
            addMaterialSaveBtn.addEventListener('click', function() {
                const materialName = document.getElementById('materialName').value.trim();
                const materialId = document.getElementById('materialId').value.trim();

                // Âü∫Êú¨È™åËØÅ
                if (!materialName) {
                    alert('ËØ∑ËæìÂÖ•ÊùêÊñôÂêçÁß∞');
                    document.getElementById('materialName').focus();
                    return;
                }

                if (!materialId) {
                    alert('ËØ∑ËæìÂÖ•ÊùêÊñôÁºñÂè∑');
                    document.getElementById('materialId').focus();
                    return;
                }

                // Êî∂ÈõÜÊâÄÊúâÂèÇÊï∞ÂÄº
                const constitutiveParams = {};
                const equationParams = {};
                
                const constitutiveInputs = document.querySelectorAll('.constitutive-params .param-input');
                const constitutiveLabels = ['MID', 'RO', 'E', 'PR', 'SIGY', 'ETAN', 'BEAT', 'SRC', 'SRP', 'FS', 'VP'];
                
                constitutiveInputs.forEach((input, index) => {
                    if (constitutiveLabels[index]) {
                        constitutiveParams[constitutiveLabels[index]] = input.value;
                    }
                });

                const equationInputs = document.querySelectorAll('.equation-params .param-input');
                const equationLabels = ['EOSID', 'C0', 'C1', 'C2', 'C3', 'C4', 'C5', 'C6', 'E0', 'V0'];
                
                equationInputs.forEach((input, index) => {
                    if (equationLabels[index]) {
                        equationParams[equationLabels[index]] = input.value;
                    }
                });

                // ÂàõÂª∫ÊùêÊñôÂØπË±°
                const newMaterial = {
                    id: materialId,
                    name: materialName,
                    constitutive: document.getElementById('constitutiveSelect').value,
                    equation: document.getElementById('equationSelect').value,
                    constitutiveParams: constitutiveParams,
                    equationParams: equationParams,
                    createdAt: new Date().toISOString()
                };

                console.log('Êñ∞Â¢ûÊùêÊñô:', newMaterial);

                // ËøôÈáåÂèØ‰ª•Ê∑ªÂä†‰øùÂ≠òÂà∞ÂêéÁ´ØÁöÑÈÄªËæë
                alert(`ÊùêÊñô "${materialName}" Â∑≤ÊàêÂäüÊ∑ªÂä†ÔºÅ`);

                // ÈáçÁΩÆË°®Âçï
                resetAddMaterialForm();
                
                closeAddMaterialModal();
            });

            // ÈáçÁΩÆÊñ∞Â¢ûÊùêÊñôË°®Âçï
            function resetAddMaterialForm() {
                document.getElementById('materialName').value = '';
                document.getElementById('materialId').value = '';
                
                // ÈáçÁΩÆÊâÄÊúâÂèÇÊï∞ËæìÂÖ•Ê°Ü
                const allInputs = addMaterialModal.querySelectorAll('.param-input');
                allInputs.forEach(input => {
                    input.value = '';
                });
                
                // ÈáçÁΩÆ‰∏ãÊãâÊ°Ü
                document.getElementById('constitutiveSelect').selectedIndex = 0;
                document.getElementById('equationSelect').selectedIndex = 0;
            }

            // ÁÑ¶ÁÇπÁÆ°ÁêÜ - Âõ∞Âú®ÂºπÂá∫Ê°ÜÂÜÖ
            addMaterialModal.addEventListener('keydown', function(e) {
                if (e.key === 'Tab' && addMaterialModal.classList.contains('active')) {
                    const focusableElements = addMaterialModal.querySelectorAll(
                        'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
                    );
                    const firstFocusable = focusableElements[0];
                    const lastFocusable = focusableElements[focusableElements.length - 1];

                    if (e.shiftKey) {
                        // Shift + Tab
                        if (document.activeElement === firstFocusable) {
                            e.preventDefault();
                            lastFocusable.focus();
                        }
                    } else {
                        // Tab
                        if (document.activeElement === lastFocusable) {
                            e.preventDefault();
                            firstFocusable.focus();
                        }
                    }
                }
            });

            // Êï∞ÂÄºËæìÂÖ•È™åËØÅ
            const numericInputs = addMaterialModal.querySelectorAll('.param-input');
            numericInputs.forEach(input => {
                input.addEventListener('input', function(e) {
                    // ÂÖÅËÆ∏Êï∞Â≠ó„ÄÅÂ∞èÊï∞ÁÇπ„ÄÅË¥üÂè∑ÂíåÁßëÂ≠¶ËÆ°Êï∞Ê≥ï
                    const value = e.target.value;
                    const validPattern = /^-?\d*\.?\d*([eE][-+]?\d*)?$/;
                    
                    if (value !== '' && !validPattern.test(value)) {
                        e.target.style.borderColor = '#ff4757';
                    } else {
                        e.target.style.borderColor = '';
                    }
                });
            });

            // =============================================================================
            // È°µÈù¢ÂàáÊç¢ÂäüËÉΩ
            // =============================================================================
            
            // È°µÈù¢ÂàáÊç¢Â§ÑÁêÜ
            function switchPage(pageId) {
                // ÈöêËóèÊâÄÊúâÈ°µÈù¢
                document.querySelectorAll('.page-content').forEach(page => {
                    page.classList.remove('active');
                });
                
                // ÊòæÁ§∫ÁõÆÊ†áÈ°µÈù¢
                const targetPage = document.getElementById(pageId + '-page');
                if (targetPage) {
                    targetPage.classList.add('active');
                }
                
                // Êõ¥Êñ∞ÂØºËà™Áä∂ÊÄÅ
                document.querySelectorAll('.nav-tab').forEach(tab => {
                    tab.classList.remove('active');
                    tab.setAttribute('aria-selected', 'false');
                });
                
                const activeTab = document.querySelector(`[data-page="${pageId}"]`);
                if (activeTab) {
                    activeTab.classList.add('active');
                    activeTab.setAttribute('aria-selected', 'true');
                }
            }
            
            // ÂØºËà™Ê†èÁÇπÂáª‰∫ã‰ª∂
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.addEventListener('click', function(e) {
                    e.preventDefault();
                    const pageId = this.getAttribute('data-page');
                    
                    if (pageId === 'material-model' || pageId === 'target-modeling') {
                        switchPage(pageId);
                    } else {
                        // ÂÖ∂‰ªñÈ°µÈù¢ÊöÇÊó∂ÊòæÁ§∫ÊèêÁ§∫
                        alert(`${this.textContent.trim()}ÂäüËÉΩÊ≠£Âú®ÂºÄÂèë‰∏≠...`);
                    }
                });
            });

            // =============================================================================
            // ÁõÆÊ†áÂª∫Ê®°È°µÈù¢‰∫§‰∫íÂäüËÉΩ
            // =============================================================================
            
            // Ê®°ÂûãÁ±ªÂûãÂàáÊç¢
            // ÁõÆÊ†áÂª∫Ê®°È°µÈù¢ÊåâÈíÆÂàáÊç¢
            const targetModelingBtns = document.querySelectorAll('#target-modeling-page .small-btn[data-model-type]');
            targetModelingBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    // Êõ¥Êñ∞ÊåâÈíÆÁä∂ÊÄÅ
                    targetModelingBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    const modelType = this.getAttribute('data-model-type');
                    console.log('ÂàáÊç¢Âà∞Ê®°ÂûãÁ±ªÂûã:', modelType);
                    
                    // ËøôÈáåÂèØ‰ª•Ê†πÊçÆÊ®°ÂûãÁ±ªÂûãÊõ¥Êñ∞ÁïåÈù¢ÂÜÖÂÆπ
                    if (modelType === 'equivalent') {
                        // Á≠âÊïàÈù∂Ê®°ÂûãÁöÑÁâπÂÆöÂ§ÑÁêÜ
                        console.log('ÊòæÁ§∫Á≠âÊïàÈù∂Ê®°ÂûãÂèÇÊï∞');
                    } else if (modelType === 'vehicle') {
                        // Êï¥ËΩ¶Ê®°ÂûãÁöÑÁâπÂÆöÂ§ÑÁêÜ
                        console.log('ÊòæÁ§∫Êï¥ËΩ¶Ê®°ÂûãÂèÇÊï∞');
                        alert('Êï¥ËΩ¶Ê®°ÂûãÂäüËÉΩÊ≠£Âú®ÂºÄÂèë‰∏≠ÔºåÊï¨ËØ∑ÊúüÂæÖÔºÅ');
                        // ÈáçÊñ∞ÊøÄÊ¥ªÁ≠âÊïàÈù∂Ê®°ÂûãÊåâÈíÆ
                        setTimeout(() => {
                            targetModelingBtns.forEach(b => b.classList.remove('active'));
                            document.querySelector('#target-modeling-page .small-btn[data-model-type="equivalent"]').classList.add('active');
                        }, 100);
                    }
                });
            });

            // Ê®°ÂûãÂ∫ìÁÆ°ÁêÜÊåâÈíÆ
            const modelLibraryBtn = document.querySelector('#target-modeling-page .small-btn.primary');
            if (modelLibraryBtn) {
                modelLibraryBtn.addEventListener('click', function() {
                    console.log('ÁÇπÂáªÊ®°ÂûãÂ∫ìÁÆ°ÁêÜ');
                    alert('Ê®°ÂûãÂ∫ìÁÆ°ÁêÜÂäüËÉΩÊ≠£Âú®ÂºÄÂèë‰∏≠ÔºåÊï¨ËØ∑ÊúüÂæÖÔºÅ');
                });
            }
            
            // ÁîüÊàêÈù∂ÊùøÊ®°ÂûãÊåâÈíÆ
            const generateModelBtn = document.querySelector('.action-btn-primary');
            if (generateModelBtn) {
                generateModelBtn.addEventListener('click', function() {
                    console.log('ÁîüÊàêÈù∂ÊùøÊ®°Âûã');
                    
                    // Ëé∑ÂèñÈù∂ÊùøÂèÇÊï∞
                    const boardParams = {
                        layers: parseInt(document.querySelector('.param-input-field[value="2"]').value),
                        gridSize: parseInt(document.querySelector('.param-input-field[value="2"]:last-of-type').value),
                        length: parseInt(document.querySelector('.param-input-field[value="50"]').value)
                    };
                    
                    console.log('Èù∂ÊùøÂèÇÊï∞:', boardParams);
                    
                    // Ê®°ÊãüÁîüÊàêËøáÁ®ã
                    this.disabled = true;
                    this.textContent = 'ÁîüÊàê‰∏≠...';
                    
                    setTimeout(() => {
                        this.disabled = false;
                        this.textContent = 'ÁîüÊàêÈù∂ÊùøÊ®°Âûã';
                        alert('Èù∂ÊùøÊ®°ÂûãÁîüÊàêÂÆåÊàêÔºÅ');
                        
                        // Êõ¥Êñ∞‰∏âÁª¥ËßÜÂõæ
                        const threejsContainer = document.querySelector('.threejs-view-container');
                        if (threejsContainer) {
                            threejsContainer.innerHTML = `
                                <div style="text-align: center;">
                                    <div style="font-size: 48px; margin-bottom: 16px;">üéØ</div>
                                    <div>Èù∂ÊùøÊ®°ÂûãÂ∑≤ÁîüÊàê</div>
                                    <div style="margin-top: 8px; font-size: 14px; opacity: 0.7;">
                                        Â±ÇÊï∞: ${boardParams.layers} | ÁΩëÊ†º: ${boardParams.gridSize} | ÈïøÂ∫¶: ${boardParams.length}cm
                                    </div>
                                </div>
                            `;
                        }
                    }, 2000);
                });
            }
            
            // ‰øùÂ≠òËá≥Ê®°ÂûãÂ∫ìÊåâÈíÆ
            const saveToLibraryBtn = document.querySelector('.action-btn-secondary');
            if (saveToLibraryBtn) {
                saveToLibraryBtn.addEventListener('click', function() {
                    console.log('‰øùÂ≠òÂà∞Ê®°ÂûãÂ∫ì');
                    alert('‰øùÂ≠òÂà∞Ê®°ÂûãÂ∫ìÂäüËÉΩÊ≠£Âú®ÂºÄÂèë‰∏≠...');
                });
            }
            
            // Èù∂ÊùøÂèÇÊï∞Ë°®Ê†ºËæìÂÖ•È™åËØÅ
            const targetBoardInputs = document.querySelectorAll('.target-board-table input[type="number"]');
            targetBoardInputs.forEach(input => {
                input.addEventListener('input', function() {
                    // Á°Æ‰øùËæìÂÖ•ÂÄº‰∏∫Ê≠£Êï∞
                    if (this.value < 0) {
                        this.value = 0;
                    }
                });
                
                input.addEventListener('change', function() {
                    console.log('Èù∂ÊùøÂèÇÊï∞Êõ¥Êñ∞:', this.value);
                });
            });
            
            // ÊùêÊñôÈÄâÊã©‰∏ãÊãâÊ°Ü
            const materialSelects = document.querySelectorAll('.target-board-table select');
            materialSelects.forEach(select => {
                select.addEventListener('change', function() {
                    console.log('ÊùêÊñôÈÄâÊã©:', this.value);
                    
                    // ÁßªÈô§placeholderÊ†∑Âºè
                    if (this.value) {
                        this.classList.remove('material-select-placeholder');
                    } else {
                        this.classList.add('material-select-placeholder');
                    }
                });
            });
        });
    </script>
</body>
</html>
